"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{35954:function(e,t,n){n.d(t,{Z:function(){return home_controller_Home}});var a=n(65003),i=n.n(a),r=n(67294),s=[".d-flex.jsx-3320115234,.home__default.jsx-3320115234{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".home__default.jsx-3320115234{width:var(--padding-width);padding:var(--padding);}",".home__default--title.jsx-3320115234{color:var(--gray-30);font-size:var(--s-3);}"];s.__hash="3320115234";var o=[".surveillance.jsx-3472433715{min-height:500px;width:100%;}"];o.__hash="3472433715";var c=n(59499),l=["img.jsx-925066019{width:100%;height:auto;z-index:1;position:relative;}","img.jsx-925066019 .d-flex.jsx-925066019,img.jsx-925066019 img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".d-flex.jsx-925066019,img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];l.__hash="925066019";var d=[".d-flex.jsx-1953216386,.image-control.jsx-1953216386 .image-control__controls.jsx-1953216386{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".image-control.jsx-1953216386{width:auto;--icon-size:60px;--font-size:var(--s-7);position:relative;height:auto;overflow:hidden;outline:solid 1px var(--gray-80);}","@media (max-width:900px){.image-control.jsx-1953216386{max-width:calc(100vw - var(--padding) * 2);}}",".image-control__loading.jsx-1953216386{aspect-ratio:16/9;}",".image-control.jsx-1953216386:hover .image-control__controls.jsx-1953216386{bottom:0;opacity:1;}",".image-control.jsx-1953216386 .image-control__element.jsx-1953216386{background-color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:auto;z-index:-1;}",".image-control.jsx-1953216386 .image-control__controls.jsx-1953216386{background-color:var(--gray-100);z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:absolute;bottom:-100%;padding:0 var(--s-9);width:calc(100% - var(--s-9) * 2);left:0;height:var(--element-height);opacity:0;-webkit-transition:bottom 0.5s ease,opacity 0.5s ease;transition:bottom 0.5s ease,opacity 0.5s ease;}",".image-control.jsx-1953216386 .image-control__controls__control.jsx-1953216386{cursor:pointer;}",".image-control.jsx-1953216386 .image-control__controls__control.jsx-1953216386:hover{--ui-icon-color:var(--primary);}"];d.__hash="1953216386";var h=n(60682),x=n(59817),u=n(41927),_=n(99073),g=n(85893),components_ImageControl_ImageControl=function ImageControl(e){var t=e.children,n=e.variant,a=e.mediaType,s=void 0===a?"image":a,o=e.refreshInterval,c=void 0===o?1e3:o,l=e.error,b=e.loadingText,p=e.fixedLoad,j=(0,r.useRef)(null),m=(0,r.useState)(!0),v=m[0],w=m[1],k=(0,x.Z)("image-control__element",s,n),y=(0,_.dd)(),S=y.openModal,N=y.closeModal,C=y.isModalOpen;return(0,r.useEffect)(function(){var e=setInterval(function(){var e,t=null==j?void 0:null===(e=j.current)||void 0===e?void 0:e.offsetHeight;j.current&&t&&t>30?w(!1):l&&!v&&w(!0)},c);return function(){return clearInterval(e)}},[c,v,j.current]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:d.__hash,children:d}),(0,g.jsxs)("div",{className:"jsx-".concat(d.__hash)+" "+"image-control".concat(v?" image-control__loading":""),children:[" ",!0==v&&(0,g.jsx)(h.Z,{position:void 0!==p&&p?void 0:"relative",text:l||b||void 0,dots:!["string","object"].includes(typeof l)&&void 0}),(0,g.jsx)("div",{id:"image-control__element",ref:j,className:"jsx-".concat(d.__hash)+" "+"".concat(k),children:r.Children.map(t,function(e){return(0,r.isValidElement)(e)?(0,r.cloneElement)(e):e})}),(0,g.jsxs)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls",children:[(0,g.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,g.jsx)(u.a,{icon:"fa-play-pause"})}),(0,g.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,g.jsx)(u.a,{icon:"fa-expand",onClick:function(){C?N():S({children:(0,g.jsx)(ImageControl,{fixedLoad:!0,variant:n,mediaType:s,refreshInterval:c,error:l,children:t}),variant:"fullscreen"})}})})]})]})]})};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var UiMedia_controller_UiMedia=function(e){var t=e.src,n=e.variant,a=e.type,s=e.alt,o=e.loadingText,c=(0,r.useState)({variant:n,type:a}),d=c[0],h=c[1],x=(0,r.useState)(0),_=x[0],b=x[1],handleReload=function(){h(_objectSpread(_objectSpread({},d),{},{error:null})),b(function(e){return e+1})},RefreshLoadingText=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{style:{color:"#f90"},children:[o,", Failed"]}),(0,g.jsx)("div",{children:(0,g.jsx)(u.a,{icon:"fa-arrows-rotate",onClick:handleReload})})]})},handleError=function(e){e.preventDefault(),console.log("[ ERROR ]",e),d.error||h(_objectSpread(_objectSpread({},d),{},{error:(0,g.jsx)(RefreshLoadingText,{})}))};return d.loadingText=o,(0,r.useEffect)(function(){},[handleError,d]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:l.__hash,children:l}),(0,g.jsx)(components_ImageControl_ImageControl,_objectSpread(_objectSpread({},d),{},{children:!d.error&&(0,g.jsx)("img",{src:t,alt:s,onError:handleError,className:"jsx-".concat(l.__hash)},_)}))]})},b=n(68991),p=n(37011),j=n(22516),surveillance_controller_Surveillance=function(){return(0,j.a)(),(0,r.useEffect)(function(){},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:o.__hash,children:o}),(0,g.jsx)("div",{className:"jsx-".concat(o.__hash)+" surveillance",children:(0,g.jsxs)(p.Z,{xs:1,md:2,padding:"0 0 200px",children:[(0,g.jsx)(UiMedia_controller_UiMedia,{src:"".concat(b.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=2"),loadingText:"loading camera 2"}),(0,g.jsx)(UiMedia_controller_UiMedia,{src:"".concat(b.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=3"),loadingText:"loading camera 3"}),(0,g.jsx)(UiMedia_controller_UiMedia,{src:"".concat(b.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=1"),loadingText:"loading camera 1"}),(0,g.jsx)(UiMedia_controller_UiMedia,{src:"".concat(b.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=4"),loadingText:"loading camera 4"})]})})]})},m=n(5960),v=n(50029),w=n(16835),k=n(87794),y=n.n(k),S=[".d-flex.jsx-2276483184,.lights__light-header-title.jsx-2276483184,.lights__light-header-action.jsx-2276483184,.lights__light-header.jsx-2276483184,.lights__light.jsx-2276483184,.lights__bar-header.jsx-2276483184{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".lights.jsx-2276483184{width:var(--padding-width);padding:var(--padding);height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".lights__bar-header.jsx-2276483184{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;color:var(--gray-30);}",".lights__light.jsx-2276483184{margin:0;height:auto;overflow:hidden;}",".lights__light-header.jsx-2276483184{width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;text-transform:capitalize;border-radius:var(--border-radius);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".lights__light-header-action.jsx-2276483184{min-height:var(--element-height);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:var(--s-9);--ui-icon-color:var(--gray-40);}",".lights__light-header-action.jsx-2276483184:hover{--ui-icon-color:var(--gray-20);}",".lights__light-header-title.jsx-2276483184{min-height:var(--element-height);gap:var(--s-9);}"];S.__hash="2276483184";var N=n(59280),C=n(67979),O=n(71626),M=n(70483),E=n(32279),Z=n(27812),L=[".ui-media-slider.jsx-837193505{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:16px 0;}",".media-slider.jsx-837193505{width:100%;background-color:#f0f0f0;height:var(--element-height);border-radius:10px;}",".slider-track.jsx-837193505{height:100%;width:100%;border-radius:10px;}",".points.jsx-837193505{position:relative;width:100%;max-width:100%;margin-top:var(--padding);height:var(--s-6);}",".point.jsx-837193505{position:absolute;height:var(--s-6);aspect-ratio:1;border-radius:50%;cursor:pointer;}"];L.__hash="837193505";var views_UiMediaSlider_UiMediaSlider=function(e){var t=e.atPoints,n=e.duration,a=e.start,s=e.persistent,o=void 0!==s&&s,c=e.loop,l=void 0!==c&&c,d=e.backgroundColors,h=void 0===d?["#ccc"]:d,x=(0,r.useState)(0),u=x[0],_=x[1],b=(0,r.useState)([]),p=b[0],j=b[1];(0,r.useEffect)(function(){var e;return a&&n?e=window.setInterval(function(){_(function(e){var t=e+10;return t<=n?t:n})},10):(void 0!==e&&clearInterval(e),_(0),j([])),function(){void 0!==e&&clearInterval(e)}},[a,n]),(0,r.useEffect)(function(){null==t||t.forEach(function(e,t){!(u>=e.time)||p.includes(t)||(null==e||e.onPoint(e.value),o||j(function(e){return[].concat((0,Z.Z)(e),[t])}))})},[u,t,p,o]),(0,r.useEffect)(function(){u>=n&&l&&(_(0),j([]))},[u,n,l]);var m=u/n*100,v=h.length>1?"linear-gradient(to right, ".concat(h.join(", "),")"):h[0];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:L.__hash,children:L}),(0,g.jsxs)("div",{className:"jsx-".concat(L.__hash)+" ui-media-slider",children:[(0,g.jsx)("div",{className:"jsx-".concat(L.__hash)+" media-slider",children:(0,g.jsx)("div",{style:{width:"".concat(m,"%"),background:v},className:"jsx-".concat(L.__hash)+" slider-track "})}),(0,g.jsx)("div",{className:"jsx-".concat(L.__hash)+" points",children:t&&t.map(function(e,t){return(0,g.jsx)("div",{style:null!=e&&e.backgroundColor?{left:"".concat(e.time/n*100,"%"),backgroundColor:e.value}:{left:"".concat(e.time/n*100,"%")},onClick:function(){return e.onPoint(e.value)},className:"jsx-".concat(L.__hash)+" point"},t)})})]})]})},H=n(27691),calculateHexFromHueSatBri=function(e,t,n){var a,i,r,s=e/65535*360,o=n/254*(t/254),c=o*(1-Math.abs(s/60%2-1)),l=n/254-o/2;return s>=0&&s<60?(a=o,i=c,r=0):s>=60&&s<120?(a=c,i=o,r=0):s>=120&&s<180?(a=0,i=o,r=c):s>=180&&s<240?(a=0,i=c,r=o):s>=240&&s<300?(a=c,i=0,r=o):(a=o,i=0,r=c),a=Math.round((a+l)*255),i=Math.round((i+l)*255),r=Math.round((r+l)*255),"#".concat(a.toString(16).padStart(2,"0")).concat(i.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0"))};function Lights_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Lights_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lights_ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lights_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var views_lights_Lights=function(){var e,t,n,a=(0,C.U2)(),s=(0,w.Z)(a,2)[1],o=(0,r.useState)(),c=o[0],l=o[1],d=(0,r.useState)(!1),h=d[0],x=d[1],_=(0,r.useState)(),b=_[0],j=_[1],m=(0,r.useState)(),k=m[0],Z=m[1],L=(0,r.useState)(!1),T=L[0],P=L[1],B=(0,N.ko)("IHomeService"),BarHeader=function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:S.__hash,children:S}),(0,g.jsxs)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header",children:[(0,g.jsxs)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header-title",children:[void 0==c||(null==c?void 0:c.name)!=e.id_?(0,g.jsx)("div",{onClick:function(){return handleNewName({name:e.id_,value:"new light name"})},className:"jsx-".concat(S.__hash),children:null==e?void 0:e.name}):(0,g.jsx)(E.Z,{size:"sm",name:c.id_,onChange:handleNewName,value:c.value}),(0,g.jsx)("div",{onClick:function(){return I("toggle",{id:e.id_})},className:"jsx-".concat(S.__hash),children:(0,g.jsx)(M.Z,{name:null==e?void 0:e.id_,value:null==e?void 0:e.is_on})})]}),(0,g.jsx)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header-action",children:(0,g.jsx)(u.a,{onClick:function(){return toggleBarView(e.id_)},icon:(null==e?void 0:e.view)!="color"?"fa-palette":"fa-sun"})})]})]})},updateLight=function(e,t){Z(function(){return k.map(function(n){return n.id_==e.id_&&(t&&(e.view="color"),n=e),n})})},toggleBarView=function(e){Z(k.map(function(t){return(null==t?void 0:t.id_)==e&&((null==t?void 0:t.view)==void 0?t.view="color":(null==t?void 0:t.view)!=void 0&&delete t.view),t}))},handleNewName=function(e){var t=e.name,n=e.value;e.target&&(t=e.target.name,n=e.target.value),t&&n&&l(e)},U=(null==k?void 0:k.filter(function(e){return e.is_on}))||[],handleLightAnimation=function(e){if(0!==U.length){var t=((b?U.findIndex(function(e){return e.id_===b.id_}):-1)+1)%U.length,n=U[t];j(n),I("color",{id:n.id_,hex:e})}},initfetchLights=function(){void 0===k&&z().then(function(){return s({active:!1})})},F=U&&U.map(function(e,t){var n=null!=e&&e.hex?"#".concat(function reverseString(e){return""===e?"":reverseString(e.substr(1))+e.charAt(0)}(e.hex.substring(1,e.hex.length))):"#ff3300";return{time:(t+1)*1e3,value:n,backgroundColor:n,onPoint:handleLightAnimation}}),z=(e=(0,v.Z)(y().mark(function _callee(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({active:!0,body:"loading lights",animation:!0}),e.prev=1,e.next=4,B.lights();case 4:Z(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("[ FETCH LIGHTS (ERR) ]",JSON.stringify(e.t0));case 11:case"end":return e.stop()}},_callee,null,[[1,8]])})),function(){return e.apply(this,arguments)}),I=(t=(0,v.Z)(y().mark(function _callee2(e,t){var n,a,i,r;return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:s.prev=0,s.t0=e,s.next="all-off"===s.t0?4:"all-on"===s.t0?8:"toggle"===s.t0?13:"brightness"===s.t0?19:"color"===s.t0?25:"all-color"===s.t0?32:39;break;case 4:return s.next=6,B.lightsOff();case 6:return n=s.sent,s.abrupt("break",41);case 8:return s.next=10,B.lightsOn();case 10:return console.log("all-on",n=s.sent),s.abrupt("break",41);case 13:if(!(null!=t&&t.id)){s.next=18;break}return s.next=16,B.lightToggle(t.id);case 16:updateLight(n=s.sent);case 18:return s.abrupt("break",41);case 19:if(!(null!=t&&t.id&&(null==t?void 0:t.bri)!==void 0)){s.next=24;break}return s.next=22,B.lightBrightness(t.id,t.bri);case 22:updateLight(n=s.sent);case 24:return s.abrupt("break",41);case 25:if(!(null!=t&&t.id&&null!=t&&t.hex)){s.next=31;break}return s.next=28,B.lightColor(t.id,t.hex);case 28:i=calculateHexFromHueSatBri((a=s.sent).hue,a.sat,a.bri),updateLight(Lights_objectSpread(Lights_objectSpread({},a),{},{hex:i,isColor:!0}),!0);case 31:return s.abrupt("break",41);case 32:if(!(null!=t&&t.hex)){s.next=38;break}return r=k.map(function(e){if(e.is_on)return B.lightColor(e.id_,t.hex)}),s.next=36,Promise.all(r);case 36:s.sent.forEach(function(e){var t=calculateHexFromHueSatBri(e.hue,e.sat,e.bri);updateLight(Lights_objectSpread(Lights_objectSpread({},e),{},{hex:t,isColor:!0}),!0)});case 38:return s.abrupt("break",41);case 39:return console.log("[multiHomeService] Action not recognized:",e),s.abrupt("return");case 41:n&&console.log("[multiHomeService] Success:",JSON.stringify(n)),s.next=47;break;case 44:s.prev=44,s.t1=s.catch(0),console.log("[multiHomeService] Error:",JSON.stringify(s.t1));case 47:case"end":return s.stop()}},_callee2,null,[[0,44]])})),function(e,n){return t.apply(this,arguments)});return(0,r.useEffect)(function(){},[I]),(0,r.useEffect)(function(){initfetchLights()},[b]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:S.__hash,children:S}),(null==k?void 0:k.length)&&(null===(n=k[0])||void 0===n?void 0:n.hex),(0,g.jsxs)("div",{className:"jsx-".concat(S.__hash)+" lights",children:[(0,g.jsxs)(p.Z,{xs:2,lg:3,gap:15,children:[(0,g.jsx)(H.Z,{variant:h&&"primary",onClick:function(){return x(!h)},children:"start animation"}),(0,g.jsx)(H.Z,{variant:h&&"primary",onClick:function(){return!1==T&&P(Lights_objectSpread(Lights_objectSpread({},U[0]),{},{id_:"all-lights"}))},children:"Set All"})]}),(0,g.jsx)(views_UiMediaSlider_UiMediaSlider,{backgroundColors:["#ff3300","#00ff00","#ff0000"],atPoints:F,duration:1e4,start:h}),"object"==typeof T&&(0,g.jsx)(O.Z,{header:(0,g.jsxs)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header",children:[(0,g.jsxs)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header-title",children:[void 0==c||(null==c?void 0:c.name)!=T.id_?(0,g.jsx)("div",{onClick:function(){return handleNewName({name:T.id_,value:"new light name"})},className:"jsx-".concat(S.__hash),children:null==T?void 0:T.name}):(0,g.jsx)(E.Z,{size:"sm",name:c.id_,onChange:handleNewName,value:c.value}),(0,g.jsx)("div",{onClick:function(){return I((null==T?void 0:T.is_on)==!0?"all-off":"all-on")},className:"jsx-".concat(S.__hash),children:(0,g.jsx)(M.Z,{name:null==T?void 0:T.id_,value:null==T?void 0:T.is_on})})]}),(0,g.jsx)("div",{className:"jsx-".concat(S.__hash)+" lights__light-header-action",children:(0,g.jsx)(u.a,{onClick:function(){return toggleBarView(T.id_)},icon:(null==T?void 0:T.view)!="color"?"fa-palette":"fa-sun"})})]}),onChange:function(e){0!=String(e).length&&e&&(String(e).startsWith("#")?I("color",{id:T.id_,hex:e}):I("brightness",{id:T.id_,bri:e}))},isColor:(null==T?void 0:T.view)=="color",barCount:5,percentage:(null==T?void 0:T.bri)*100/254}),k&&!1==T&&(0,g.jsx)(p.Z,{xs:2,lg:3,gap:15,children:Object.entries(k).map(function(e,t){var n=(0,w.Z)(e,2),a=(n[0],n[1]);return(0,g.jsx)("div",{className:"jsx-".concat(S.__hash)+" lights__light",children:(0,g.jsx)(O.Z,{header:(0,g.jsx)(BarHeader,Lights_objectSpread({},a)),onChange:function(e){0!=String(e).length&&e&&(String(e).startsWith("#")?I("color",{id:a.id_,hex:e}):I("brightness",{id:a.id_,bri:e}))},isColor:(null==a?void 0:a.view)=="color",barCount:5,percentage:(null==a?void 0:a.bri)*100/254})},t)})})]})]})},T=n(75182),home_controller_Home=function(e){e.vid;var t=(0,j.a)(),n={home:(0,g.jsx)(function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:s.__hash,children:s}),(0,g.jsx)("div",{className:"jsx-".concat(s.__hash)+" home__default",children:(0,g.jsxs)("div",{className:"jsx-".concat(s.__hash)+" home__default--title",children:[t&&(null==t?void 0:t.name)&&(0,T.Z)(t.name)||"",", Home Automation."]})})]})},{}),surveillance:(0,g.jsx)(surveillance_controller_Surveillance,{}),lights:(0,g.jsx)(views_lights_Lights,{})};return t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i(),{id:s.__hash,children:s}),(0,g.jsx)(m.Z,{variant:"fullwidth",title:"home",defaultView:"home",views:n})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.Z,{})})}},71626:function(e,t,n){n.d(t,{Z:function(){return Graphs_UiBar_UiBar}});var a=n(65003),i=n.n(a),r=n(67294),s=[".d-flex.jsx-2226004042,.bar.jsx-2226004042 .bar__container.jsx-2226004042 .bar__bars-container.jsx-2226004042 .bar__percentage.jsx-2226004042,.bar.jsx-2226004042 .bar__container.jsx-2226004042 .bars__icon.jsx-2226004042,.bar.jsx-2226004042 .bar__container.jsx-2226004042 .bar__header.jsx-2226004042{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".bar.jsx-2226004042{min-width:140px;width:100%;}",".bar.jsx-2226004042 .bar__container.jsx-2226004042{border-radius:var(--border-radius);border:solid 1px var(--gray-60);padding:var(--s-9);}",".bar.jsx-2226004042 .bar__container.jsx-2226004042:hover .bar__bars-container.jsx-2226004042 .bar__percentage.jsx-2226004042{color:var(--white);text-shadow:#f30 1px 0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:visible;}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bar__header.jsx-2226004042{overflow:hidden;min-height:var(--element-height);white-space:nowrap;position:relative;line-height:1;}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bars__icon.jsx-2226004042{height:var(--element-height);padding-top:20px;--ui-icon-color:var(--gray-60);padding:30px 0 20px;}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bars__status.jsx-2226004042{position:absolute;right:var(--s-9);top:4px;text-transform:capitalize;font-size:var(--s-7);color:var(--yellow-opaque);--ui-icon-width:var(--s-6);}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bars__status.jsx-2226004042 .bars__status-low.jsx-2226004042{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:5px;}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bar__bars-container.jsx-2226004042{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;gap:var(--border-radius);overflow:hidden;border-radius:var(--border-radius);}",".bar.jsx-2226004042 .bar__container.jsx-2226004042 .bar__bars-container.jsx-2226004042 .bar__percentage.jsx-2226004042{font-size:var(--s-1);visibility:hidden;position:absolute;top:0;bottom:0;width:100%;height:100%;text-align:center;color:var(--gray-20-opaque);}",".bar__bars-content.jsx-2226004042{overflow:hidden;border-radius:var(--border-radius);border:solid 1px var(--gray-60);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);height:var(--element-height);}",".bar__bars-content.jsx-2226004042 .bar__bars-bar-partial.jsx-2226004042{border-top:solid 1px var(--gray-70);}",".bar__bars-content.jsx-2226004042 .bar__bars-bar-filled.jsx-2226004042,.bar__bars-content.jsx-2226004042 .bar__bars-bar-partial.jsx-2226004042{height:100%;background-color:var(--bar-background,var(--yellow));}",".bar__timestamp.jsx-2226004042{width:100%;font-size:var(--s-9);padding-bottom:var(--s-9);line-height:1;color:var(--gray-50);white-space:nowrap;text-align:right;}"];s.__hash="2226004042";var o=n(41927),c=n(41523),l=n(42737),d=n(96486),h=n(85893),Graphs_UiBar_UiBar=function(e){var t,n=e.barCount,a=e.percentage,x=e.isColor,u=e.icon,_=e.status,g=e.timestamp,b=e.header,p=e.onChange,j=(0,r.useState)(a),m=j[0],v=j[1],w=(0,r.useRef)(null),k=(0,r.useRef)((0,d.debounce)(function(e){p&&p(e)},1e3)).current,handleMouseDrag=function(e){if(w.current){var t=w.current.getBoundingClientRect(),n=100-(e.clientY-t.top)/t.height*100,a=Math.max(0,Math.min(n,100)),i=!0==x?percentageToHex(a):n.toFixed(0);v(n),k(i)}},hslToHex=function(e,t,n){var a=t*Math.min(n/=100,1-n)/100,f=function(t){var i=(t+e/30)%12;return Math.round(255*(n-a*Math.max(Math.min(i-3,9-i,1),-1)))};return"#".concat(f(0).toString(16).padStart(2,"0")).concat(f(8).toString(16).padStart(2,"0")).concat(f(4).toString(16).padStart(2,"0"))},percentageToHex=function(e){return hslToHex(e/100*240,100,50)};return(0,r.useEffect)(function(){v(a)},[a]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i(),{id:s.__hash,children:s}),(0,h.jsxs)("div",{className:"jsx-".concat(s.__hash)+" "+"bar".concat(s.graphContainer&&" ".concat(s.graphContainer)||""),children:[g&&(0,h.jsx)("div",{className:"jsx-".concat(s.__hash)+" bar__timestamp",children:(0,c.vc)(g,{time:!0})}),(0,h.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bar__container",children:[b&&(0,h.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bar__header",children:[b,u&&(0,h.jsx)("div",{className:"jsx-".concat(s.__hash)+" bars__icon",children:(0,h.jsx)(o.a,{icon:u})}),_&&(0,h.jsx)("div",{className:"jsx-".concat(s.__hash)+" bars__status",children:["STATUS_LOW","low","high"].includes(_)&&(0,h.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bars__status-low",children:[(0,h.jsx)(o.a,{color:"#f90",icon:"fa-exclamation-triangle"}),(0,l.Z)(_)]})})]}),(0,h.jsxs)("div",{ref:w,onMouseDown:function(e){return handleMouseDrag(e)},onMouseMove:function(e){return 1===e.buttons&&handleMouseDrag(e)},className:"jsx-".concat(s.__hash)+" "+"bar__bars-container ".concat(s.barsContainer||"").concat(x&&" bar__bars-container--is-color"||"","\n            }"),children:[function(){for(var e=[],t={filledBar:"bar__bars-bar-filled",emptyBar:"bar__bars-bar-empty",partialBar:"bar__bars-bar-partial"},a=0;a<n;a++){var r=void 0,o={};x&&(o.backgroundColor=percentageToHex(m)),a<Math.floor(m*n/100)?r=t.filledBar:a===Math.floor(m*n/100)?(o.height="".concat(m*n%100,"%"),r=t.partialBar):(delete o.height,r=t.emptyBar),e.push((0,h.jsxs)("span",{className:"jsx-".concat(s.__hash),children:[(0,h.jsx)(i(),{id:s.__hash,children:s}),(0,h.jsx)("div",{className:"jsx-".concat(s.__hash)+" bar__bars-content",children:(0,h.jsx)("div",{style:o,className:"jsx-".concat(s.__hash)+" "+"bar__bars-bar ".concat(r)})})]},a))}return e}(),(0,h.jsx)("div",{className:"jsx-".concat(s.__hash)+" "+"bar__percentage".concat(s.percentageText?" ".concat(s.percentageText):""),children:(0,h.jsxs)("div",{className:"jsx-".concat(s.__hash),children:[null===(t=String(m))||void 0===t?void 0:t.split(".")[0],"%"]})})]})]})]})]})}}}]);
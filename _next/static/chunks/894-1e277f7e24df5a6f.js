"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{79894:function(e,i,t){t.d(i,{Z:function(){return verify_controller_Verify}});var r=t(65003),n=t.n(r),a=t(67294),o=[".d-flex.jsx-2290089227,.verify__default.jsx-2290089227,.loadslider.jsx-2290089227{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loadslider.jsx-2290089227{min-height:100px;min-width:100%;background-size:200% 100%;}","@-webkit-keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}","@keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}",".verify.jsx-2290089227{color:var(--white);width:var(--padding-width);margin:var(--padding);}",".verify--header.jsx-2290089227{color:var(--gray-40);width:var(--padding-width);max-width:var(--padding-width);overflow:hidden;padding:var(--padding) 0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;text-overflow:ellipsis;}",".verify--header--title.jsx-2290089227{color:var(--gray-50);font-size:var(--s-3);}",".verify__default.jsx-2290089227{background-color:var(--gray-80);min-height:50vh;color:var(--gray-40);line-height:1;padding:var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--padding);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;border-radius:var(--border-radius);border:solid 1px var(--gray-60);box-shadow:var(--box-shadow-xl);}",".verify__default.jsx-2290089227 h1.jsx-2290089227,.verify__default.jsx-2290089227 p.jsx-2290089227{line-height:1;margin:0;}",".verify__default.jsx-2290089227 p.jsx-2290089227{color:var(--gray-50);}"];o.__hash="2290089227";var s=t(11163),l=t(59499),c=t(50029),d=t(87794),f=t.n(d),u=[".d-flex.jsx-2378720047,.verify-email__content--loader.jsx-2378720047,.verify-email__content.jsx-2378720047,.verify-email.jsx-2378720047{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".verify-email.jsx-2378720047{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border:solid 1px;border-radius:var(--border-radius);margin:var(--element-height) 0;color:var(--gray-70);background-color:var(--gray-80);min-height:500px;width:calc(var(--padding-width) - 2px);}","@media (max-width:1100px){.verify-email.jsx-2378720047{margin:var(--element-height) var(--padding);width:var(--padding-width);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".verify-email__content.jsx-2378720047{margin:var(--padding);width:var(--padding-width);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".verify-email__content--loader.jsx-2378720047{width:100%;height:400px;--icon-size:200px;}","@media (max-width:1100px){.verify-email__content--loader.jsx-2378720047{height:100%;width:250px;}}",".verify-email__content__sign-in.jsx-2378720047{width:100%;}",".verify-email__content__sign-in--title.jsx-2378720047{font-size:var(--s-2);color:var(--gray-20);line-height:2;}"];u.__hash="2378720047";var v=t(59280),m=t(60682),x=t(42737),g=t(52779),h=t(11280),p=t(27691),y=t(99073),w=t(85893);function ownKeys(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(t),!0).forEach(function(i){(0,l.Z)(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}var views_VerifyEmail_VerifyEmail=function(e){var i,t,r,o,s,l,d=e.token,h=e.onSuccess,_=(0,a.useState)({status:"verifying_email"}),b=_[0],j=_[1],k=(0,v.ko)("IMemberService");(0,y.dd)().openModal;var S=(i=(0,c.Z)(f().mark(function _callee(){var e;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(d){i.next=3;break}return j({status:"no_token_present"}),i.abrupt("return");case 3:return i.next=5,k.verifyEmail(String(d));case 5:(e=i.sent)&&j(e);case 7:case"end":return i.stop()}},_callee)})),function(){return i.apply(this,arguments)}),E=(t=(0,c.Z)(f().mark(function _callee2(){var e,i,t,r,n;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=null==b?void 0:null===(e=b.fields)||void 0===e?void 0:null===(i=e.find(function(e){return"password"==e.name}))||void 0===i?void 0:i.value,(r=b.customer).metadata.password=t,a.next=5,k.updateMember(r.id,r);case 5:(n=a.sent)&&h(n.email);case 7:case"end":return a.stop()}},_callee2)})),function(){return t.apply(this,arguments)});return(0,a.useEffect)(function(){S()},[d]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n(),{id:u.__hash,children:u}),(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email",children:(0,w.jsxs)("div",{className:"jsx-".concat(u.__hash)+" "+"verify-email__content".concat("verification_success"===b.status?" verify-email__content--success":""),children:[(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content--loader",children:(0,w.jsx)(m.Z,{position:"relative",text:(s="",(l=function(e){return"string"==typeof e})(b.status)?s=String(b.status):l(b.detail)?s=String(b.detail):null!==(r=b.detail)&&void 0!==r&&r.detail&&l(null===(o=b.detail)||void 0===o?void 0:o.detail)&&(s=b.detail.detail),(0,x.Z)(s)),dots:(null==b?void 0:b.status)!=void 0&&["verifying_email"].includes(null==b?void 0:b.status)})}),"incomplete"==b.status&&(null==b?void 0:b.fields)&&(0,w.jsx)(g.Z,{title:String(null==b?void 0:b.detail)||void 0,onChange:function(e){var i,t,r=e.target,n=r.name,a=r.value,o=null==b?void 0:b.fields,iter=function(e){return null==o?void 0:o.find(function(i){return i.name===e})},s=null===(i=iter("password"))||void 0===i?void 0:i.value,l=null===(t=iter("confirm_password"))||void 0===t?void 0:t.value,c=null==o?void 0:o.map(function(e){if(e.name===n){var i=_objectSpread(_objectSpread({},e),{},{value:a});return"confirm_password"===n&&s!==a&&""!==s||"password"===n&&l!==a&&""!==l?i.error="Not Same as Password":i.error&&delete i.error,i}return e});j(_objectSpread(_objectSpread({},b),{},{fields:c}))},fields:b.fields,onSubmit:E}),"verification_success"===b.status&&b.customer.email&&(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content__sign-in",children:(0,w.jsx)(p.Z,{href:"/account",children:"Go to Account"})})]})})]})};t(1277);var verify_controller_Verify=function(){var e=(0,s.useRouter)(),i=(e.pathname,e.query),t=(0,a.useState)(""),r=t[0],l=t[1],c=(0,a.useState)(),d=c[0],f=c[1],u=(0,a.useState)(),v=u[0],m=u[1];return(0,a.useEffect)(function(){"string"==typeof i.vid&&l(i.vid),"string"==typeof i.token&&f(i.token),v&&l("sign-in")},[i,v]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n(),{id:o.__hash,children:o}),(0,w.jsxs)("div",{className:"jsx-".concat(o.__hash)+" verify",children:["sign-in"==r&&(0,w.jsx)(h.Z,{email:v}),"email"==r&&(0,w.jsx)(views_VerifyEmail_VerifyEmail,{token:d,onSuccess:function(e){return m(e)}}),!["email","sign-in"].includes(r)&&(0,w.jsxs)("div",{className:"jsx-".concat(o.__hash)+" verify__default",children:[(0,w.jsx)("h1",{className:"jsx-".concat(o.__hash),children:"Verify"}),(0,w.jsx)("p",{className:"jsx-".concat(o.__hash),children:"Here is where you will verify a token in which you should have recieved via a specified contact method."})]})]})]})}},1277:function(e,i,t){t(87794);var r=t(67294),n=t(20745),a=t(15029),o=t(53459),s=t(99477),l=t(89646),c=t(30398),d=t(81367),f=t(17360),u=t(85893),findSVGElement=function findSVGElement(e){if("svg"===e.tagName.toLowerCase())return e;if(e.children)for(var i=Array.from(e.children),t=0;t<i.length;t++){var r=findSVGElement(i[t]);if(r)return r}return null},TJSCubeContent=function(e){var i=e.svg,t=e.svgOptions,a=e.size,f=(0,r.useRef)(null),v=(0,o.A)().scene,m=(0,r.useState)(null),x=m[0],g=m[1];return(0,r.useEffect)(function(){if(x)new d.u().load(x,function(e){if("string"==typeof i)g(i);else if(r.isValidElement(i)){var t=document.createElement("div"),a=(0,n.createRoot)(t);a.render(i),setTimeout(function(){var e=findSVGElement(t);if(e){var i=new XMLSerializer().serializeToString(e),r=new Blob([i],{type:"image/svg+xml"});g(URL.createObjectURL(r))}else console.error("SVG content is not properly rendered.");a.unmount(),t.remove()},0)}},void 0,function(e){console.error("Error loading SVG:",e)});else{var e=a||{x:1,y:1,z:1},o=new s.BoxGeometry(e.x,e.y,e.z),l=new s.MeshStandardMaterial({color:(null==t?void 0:t.color)||"#FFFFFF"}),c=new s.Mesh(o,l);f.current&&v.remove(f.current),f.current=c,v.add(c)}},[x,t,v,a]),(0,r.useEffect)(function(){if(x)new d.u().load(x,function(e){},void 0,function(e){console.error("Error loading SVG:",e)});else if(a&&null!=a&&a.x&&null!=a&&a.y&&null!=a&&a.z){var e=new s.BoxGeometry(a.x,a.y,a.z),i=new s.MeshStandardMaterial({color:(null==t?void 0:t.color)||"#FFFFFF"}),r=new s.Mesh(e,i);f.current&&v.remove(f.current),f.current=r,v.add(r)}},[x,t,v,a]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ambientLight",{}),(0,u.jsx)(l.c,{makeDefault:!0,position:[0,-45,300]}),(0,u.jsx)(c.z,{})]})};i.Z=function(e){var i=e.svg,t=e.svgOptions,r=e.size,n=(0,f.Z)(),o=n.width,s=n.height;return(0,u.jsx)(a.Xz,{orthographic:!0,camera:{position:[0,0,50],zoom:1,left:-(o/2),right:o/2,top:s/2,bottom:-(s/2),near:.1,far:100},children:(0,u.jsx)(TJSCubeContent,{svg:i,svgOptions:t,size:r})})}}}]);
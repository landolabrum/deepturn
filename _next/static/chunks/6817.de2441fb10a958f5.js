"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6817],{56817:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var o,n,a=r(59499),i=r(21378),l=r.n(i),c=[".d-flex.jsx-2221872202,.ui-earth__tools.jsx-2221872202,.ui-earth.jsx-2221872202{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".ui-earth.jsx-2221872202{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;height:inherit;width:inherit;}",".ui-earth__header.jsx-2221872202{position:absolute;top:calc(var(--s-element) + var(--s-padding));z-index:1;width:var(--s-padding-width);}",".ui-earth__tools.jsx-2221872202{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;opacity:0.5;margin-top:var(--s-padding);margin-right:-1px;}",".ui-earth__tools.jsx-2221872202:hover{opacity:1;}",".ui-earth__container.jsx-2221872202{width:inherit;}",".globe-marker.jsx-2221872202{min-width:var(--s-element);padding:var(--s-padding);background-color:#f30;z-index:1111;}"];c.__hash="2221872202";var s=r(67294),u=r(30799),h=r(99477),d=function(e,t){if(!t)return[];var r=t&&t.target?t.target.clone():new h.Vector3,o=f(t),n=[],a=e.toGlobeCoords(r.x,r.y);if(!a)return n;for(var i=a.lat,l=a.lng,c=Math.ceil(window.innerWidth/256),s=Math.ceil(window.innerHeight/256),u=0;u<s;u++)for(var d=0;d<c;d++){var p,g,m=Math.floor((l+180)/360*(1<<o)),b=Math.floor((1-Math.log(Math.tan(i*Math.PI/180)+1/Math.cos(i*Math.PI/180))/Math.PI)/2*(1<<o)),v=(p=d,g=u,isNaN(o)||isNaN(m)||isNaN(b)?(console.error("Invalid tile calculation:",{zoomLevel:o,tileX:m,tileY:b}),null):"https://a.tile.openstreetmap.org/".concat(o,"/").concat(m+p,"/").concat(b+g,".png"));v&&n.push(v)}return n},f=function(e){if(!e||!e.object)return console.error("OrbitControls or the associated camera is not properly initialized."),0;var t=Math.max(e.object.position.length(),6372)-6371;return Math.min(Math.max(t>0?Math.max(0,19-Math.log2(t/2e4*19)):19,0),19)},p=(o=function(e){var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){return console.log("Loaded tile:",e)},t.onerror=function(t){return console.error("Error loading tile:",e,t)},t.src=e},n=null,function(){for(var e=this,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];null!==n&&clearTimeout(n),n=setTimeout(function(){n=null,o.apply(e,r)},1e3)}),g=function(e,t,r){e&&t&&(r.globeImageUrl&&e.globeImageUrl(r.globeImageUrl),e.atmosphereColor(r.atmosphereColor||"rgba(0, 120, 255, 0.5)"),e.atmosphereAltitude(r.atmosphereAltitude||.15),r.rotate&&"object"==typeof r.rotate?(e.controls().autoRotate=!0,e.controls().autoRotateSpeed=r.rotate.speed||.5):e.controls().autoRotate=!1,document.addEventListener("mousemove",function(){!function(e){e.forEach(p)}(d(e,t))}))},m=r(1270),b=function(e,t,r){var o=m.Z.getIconSvg("fa-circle-user",{width:17,height:17,color:"#fff000"}),n=t.pts,a=t.points,i=t.setPoints;return!!e&&(n||i(a),!!n&&!!e&&(e.htmlElementsData(n).htmlElement(function(e){var t=document.createElement("a"),n="mrkr-".concat(e.id);return t.className="globe-marker",t.id=n,t.onclick=function(){return r(e.id)},t.innerHTML="<div>".concat(o,"</div><div class='globe-html'>").concat(e.html,"</div>"),t}).htmlAltitude("alt"),!0))};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var j=function(e,t,r,o){if(e&&t.current){var n=r.showAtmosphere,i=r.showGraticules,l=r.backgroundColor,c=r.backgroundImageUrl,s=r.position,u=e.getGlobeRadius(),h={lat:(null==s?void 0:s.lat)||0,lng:(null==s?void 0:s.lng)||0,altitude:(null==s?void 0:s.alt)||.02*u},d=t.current.offsetWidth,f=t.current.offsetHeight;e.width(d).height(f).pointOfView(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},h),0).showAtmosphere(n||!1).showGraticules(i||!1),c?e.backgroundImageUrl(c):e.backgroundColor(l||"#00000000")}},x=r(42700),w=r(63947),y=r(85893);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var k=function(e){var t=e.points,r=e.position,o=e.backgroundColor,n=e.showAtmosphere,a=e.backgroundImageUrl,i=e.showGraticules,h=e.rotate,d=e.onPointClick,f=(0,s.useRef)(),p=(0,s.useRef)(),m=[{name:"map",value:"no-clouds.jpg"},{name:"lrg",value:"earth-large.jpg"},{name:"night",value:"earth-night.jpg"}],v=(0,s.useState)(O(O({},m[0]),{},{value:"/assets/globe-textures/".concat(m[2].value)})),_=v[0],k=v[1],P=(0,s.useState)(),M=P[0],N=P[1],I=(0,x.Z)().width,E={showAtmosphere:n,showGraticules:i,backgroundColor:o,backgroundImageUrl:a,position:void 0===r?{lat:40.65654718559953,lng:-111.81447097331733,alt:.5}:r,globeImageUrl:null==_?void 0:_.value,rotate:h},C={pts:M,points:void 0===t?[{name:"Holladay",lat:40.65654718559953,lng:-111.81447097331733,alt:0}]:t,setPoints:N},D=(null==f?void 0:f.current)&&(0,u.Z)()(f.current),A=D?D.controls():null,S=function(e){d&&d(e)};return(0,s.useEffect)(function(){D&&(j(D,p,E,I),g(D,A,E),b(D,C,S))},[I,D,b,g,j,f.current,A]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l(),{id:c.__hash,children:c}),(0,y.jsxs)("div",{className:"jsx-".concat(c.__hash)+" ui-earth",children:[(0,y.jsx)("div",{className:"jsx-".concat(c.__hash)+" ui-earth__header",children:(0,y.jsx)("div",{className:"jsx-".concat(c.__hash)+" ui-earth__tools",children:(0,y.jsx)("div",{className:"jsx-".concat(c.__hash)+" ui-earth__tools-tool",children:(0,y.jsx)(w.Z,{openDirection:"left",value:null==_?void 0:_.name,options:m,onSelect:function(e){k(O(O({},e),{},{value:"/assets/globe-textures/".concat(e.value)})),g(D,A,E)}})})})}),(0,y.jsx)("div",{ref:p,className:"jsx-".concat(c.__hash)+" ui-earth__container",children:(0,y.jsx)("div",{id:"earth",ref:f,className:"jsx-".concat(c.__hash)})})]})]})}}}]);
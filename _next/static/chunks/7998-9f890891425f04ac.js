"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7998],{17998:function(e,t,n){n.d(t,{Z:function(){return $}});var r=n(21378),a=n.n(r),i=n(67294),s=[".d-flex.jsx-2463574095,.home__default.jsx-2463574095{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".home__default.jsx-2463574095{width:var(--s-4-width);padding:var(--s-4);}",".home__default--title.jsx-2463574095{color:var(--gray-30);font-size:var(--s-3);}",".home.jsx-2463574095{width:100%;height:-webkit-max-content;height:-moz-max-content;height:max-content;}"];s.__hash="2463574095";var o=[".surveillance.jsx-3472433715{min-height:500px;width:100%;}"];o.__hash="3472433715";var c=n(59499),l=["img.jsx-925066019{width:100%;height:auto;z-index:1;position:relative;}","img.jsx-925066019 .d-flex.jsx-925066019,img.jsx-925066019 img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".d-flex.jsx-925066019,img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];l.__hash="925066019";var d=[".d-flex.jsx-1218438721,.image-control.jsx-1218438721 .image-control__controls.jsx-1218438721{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".image-control.jsx-1218438721{--icon-size:60px;--font-size:var(--s-7);width:inherit;position:relative;background-color:var(--black);overflow:hidden;box-shadow:inset 0 0 5px var(--gray-90);}",".image-control__loading.jsx-1218438721{width:100%;aspect-ratio:16/9;}",".image-control.jsx-1218438721:hover .image-control__controls.jsx-1218438721{bottom:0;opacity:1;}",".image-control.jsx-1218438721 .image-control__element.jsx-1218438721{background-color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:auto;z-index:-1;}",".image-control.jsx-1218438721 .image-control__controls.jsx-1218438721{background-color:var(--gray-100);z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:absolute;bottom:-100%;padding:0 var(--s-9);width:calc(100% - var(--s-9) * 2);left:0;height:var(--s-element);opacity:0;-webkit-transition:bottom 0.5s ease,opacity 0.5s ease;transition:bottom 0.5s ease,opacity 0.5s ease;}",".image-control.jsx-1218438721 .image-control__controls__control.jsx-1218438721{cursor:pointer;}",".image-control.jsx-1218438721 .image-control__controls__control.jsx-1218438721:hover{--ui-icon-color:var(--primary);}"];d.__hash="1218438721";var x=n(85153),h=n(79785),u=n(55140),b=n(36946),f=n(85893),_=function e(t){var n=t.children,r=t.variant,s=t.mediaType,o=void 0===s?"image":s,c=t.refreshInterval,l=void 0===c?1e3:c,_=t.error,p=t.loadingText,g=t.fixedLoad,m=(0,i.useRef)(null),j=(0,i.useState)(!0),v=j[0],y=j[1],w=(0,h.Z)({cls:"image-control__element",type:o,variant:r}),k=(0,b.dd)(),S=k.openModal,N=k.closeModal,O=k.isModalOpen;return(0,i.useEffect)(function(){var e=setInterval(function(){var e,t=null==m||null===(e=m.current)||void 0===e?void 0:e.offsetHeight;m.current&&t&&t>30?y(!1):_&&!v&&y(!0)},l);return function(){return clearInterval(e)}},[l,v,m.current]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:d.__hash,children:d}),(0,f.jsxs)("div",{className:"jsx-".concat(d.__hash)+" "+"image-control".concat(v?" image-control__loading":""),children:[" ",!0==v&&(0,f.jsx)(x.Z,{position:void 0!==g&&g?void 0:"relative",text:_||p||void 0,dots:!["string","object"].includes(typeof _)&&void 0}),(0,f.jsx)("div",{id:"image-control__element",ref:m,className:"jsx-".concat(d.__hash)+" "+"".concat(w),children:i.Children.map(n,function(e){return(0,i.isValidElement)(e)?(0,i.cloneElement)(e):e})}),(0,f.jsxs)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls",children:[(0,f.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,f.jsx)(u.a,{icon:"fa-play-pause"})}),(0,f.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,f.jsx)(u.a,{icon:"fa-expand",onClick:function(){O?N():S({children:(0,f.jsx)(e,{fixedLoad:!0,variant:r,mediaType:o,refreshInterval:l,error:_,children:n}),variant:"fullscreen"})}})})]})]})]})};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){var t=e.src,n=e.variant,r=e.type,s=e.alt,o=e.loadingText,c=e.rotate,d=(0,i.useState)({variant:n,type:r}),x=d[0],h=d[1],b=(0,i.useState)(0),p=b[0],m=b[1],j=(0,i.useRef)(),v=function(){h(g(g({},x),{},{error:null})),m(function(e){return e+1})},y=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:{color:"#f90"},children:[o,", Failed"]}),(0,f.jsx)("div",{children:(0,f.jsx)(u.a,{icon:"fa-arrows-rotate",onClick:v})})]})},w=function(e){e.preventDefault(),x.error||h(g(g({},x),{},{error:(0,f.jsx)(y,{})}))};return x.loadingText=o,(0,i.useEffect)(function(){var e;c&&null!=j&&j.current?j.current.style.transform="rotate(".concat(c,"deg)"):!c&&null!=j&&null!==(e=j.current)&&void 0!==e&&e.style.transform&&delete j.current.style},[w,x,c,null==j?void 0:j.current]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:l.__hash,children:l}),(0,f.jsx)(_,g(g({},x),{},{children:!x.error&&(0,f.jsx)("img",{ref:j,src:t,alt:s,onError:w,className:"jsx-".concat(l.__hash)},p)}))]})},j=n(23992),v=n(85854),y=n(11907),w=function(){return(0,y.a)(),(0,i.useEffect)(function(){},[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:o.__hash,children:o}),(0,f.jsx)("div",{className:"jsx-".concat(o.__hash)+" surveillance",children:(0,f.jsxs)(v.Z,{xs:1,md:2,padding:"0 0 200px",children:[(0,f.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=1"),loadingText:"loading camera 1"}),(0,f.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=2"),loadingText:"loading camera 2"})]})})]})},k=n(78642),S=n(27812),N=n(50029),O=n(16835),C=n(64687),Z=n.n(C),E=[".d-flex.jsx-131766487,.lights__light-header-title.jsx-131766487,.lights__light-header--action.jsx-131766487,.lights__light.jsx-131766487{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".lights.jsx-131766487{width:100%;height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".lights__light.jsx-131766487{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);border:solid 1px var(--gray-80);border-radius:var(--border-radius);background-color:var(--gray-90);padding:var(--s-9);}",".lights__light-header.jsx-131766487{width:100%;}",".lights__light-header--action.jsx-131766487{width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;height:var(--s-element);gap:var(--s-9);--ui-icon-color:var(--gray-40);}",".lights__light-header--action.jsx-131766487:hover{--ui-icon-color:var(--gray-20);}",".lights__light-header-title.jsx-131766487{min-height:var(--s-element);gap:var(--s-9);}",".in-group.jsx-131766487{background-color:var(--primary) !important;}"];E.__hash="131766487";var z=n(10394),P=n(79223),F=[".d-flex.jsx-3157623724,.bar.jsx-3157623724 .bar__container.jsx-3157623724 .bar__bars-container.jsx-3157623724 .bar__percentage.jsx-3157623724,.bar.jsx-3157623724 .bar__container.jsx-3157623724 .bars__icon.jsx-3157623724,.bar.jsx-3157623724 .bar__container.jsx-3157623724 .bar__header.jsx-3157623724{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".bar.jsx-3157623724{width:100%;}",".bar__primary.jsx-3157623724{background-color:var(--primary-o);}",".bar.jsx-3157623724 .bar__container.jsx-3157623724:hover .bar__bars-container.jsx-3157623724 .bar__percentage.jsx-3157623724{color:var(--white);text-shadow:#f30 1px 0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:visible;}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bar__header.jsx-3157623724{overflow:hidden;min-height:var(--s-element);white-space:nowrap;position:relative;line-height:1;}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bars__icon.jsx-3157623724{height:var(--s-element);padding-top:20px;--ui-icon-color:var(--gray-60);padding:30px 0 20px;}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bars__status.jsx-3157623724{position:absolute;right:var(--s-9);top:4px;text-transform:capitalize;font-size:var(--s-7);color:var(--yellow-o);--ui-icon-width:var(--s-6);}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bars__status.jsx-3157623724 .bars__status-low.jsx-3157623724{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:5px;}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bar__bars-container.jsx-3157623724{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;gap:var(--border-radius);overflow:hidden;border-radius:var(--border-radius);}",".bar.jsx-3157623724 .bar__container.jsx-3157623724 .bar__bars-container.jsx-3157623724 .bar__percentage.jsx-3157623724{font-size:var(--s-1);visibility:hidden;position:absolute;top:0;bottom:0;width:100%;height:100%;text-align:center;color:var(--gray-20-o);}",".bar__bars-content.jsx-3157623724{box-shadow:inset 0 0 4px 2px var(--gray-100-o);border:solid 1px var(--gray-70);overflow:hidden;border-radius:var(--border-radius);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);height:var(--s-element);background-color:var(--gray-70-o);}",".bar__bars-content.jsx-3157623724 .bar__bars-bar-partial.jsx-3157623724{border-top:solid 1px var(--gray-70);}",".bar__bars-content.jsx-3157623724 .bar__bars-bar-filled.jsx-3157623724,.bar__bars-content.jsx-3157623724 .bar__bars-bar-partial.jsx-3157623724{height:100%;background-color:var(--bar-background,var(--yellow));}",".bar__timestamp.jsx-3157623724{width:100%;font-size:var(--s-9);padding-bottom:var(--s-9);line-height:1;color:var(--gray-50);white-space:nowrap;text-align:right;}"];F.__hash="3157623724";var M=n(47265),D=n(49334),T=n(96486),R=function(e){var t=e.barCount,n=e.percentage,r=e.icon,s=e.status,o=e.timestamp,c=e.header,l=e.onChange,d=(0,i.useState)(n),x=d[0],h=d[1],b=(0,i.useRef)(null),_=(0,i.useRef)((0,T.debounce)(function(e){l&&l(e)},1e3)).current,p=function(e){if(b.current){var t=b.current.getBoundingClientRect(),n=Math.max(0,Math.min(100-(e.clientY-t.top)/t.height*100,100));h(n),_(n.toFixed(0))}};return(0,i.useEffect)(function(){h(n)},[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:F.__hash,children:F}),(0,f.jsxs)("div",{className:"jsx-".concat(F.__hash)+" bar",children:[o&&(0,f.jsx)("div",{className:"jsx-".concat(F.__hash)+" bar__timestamp",children:(0,M.vc)(o,{time:!0})}),(0,f.jsxs)("div",{className:"jsx-".concat(F.__hash)+" bar__container",children:[c&&(0,f.jsxs)("div",{className:"jsx-".concat(F.__hash)+" bar__header",children:[c,r&&(0,f.jsx)("div",{className:"jsx-".concat(F.__hash)+" bars__icon",children:(0,f.jsx)(u.a,{icon:r})}),s&&(0,f.jsx)("div",{className:"jsx-".concat(F.__hash)+" bars__status",children:["STATUS_LOW","low","high"].includes(s)&&(0,f.jsxs)("div",{className:"jsx-".concat(F.__hash)+" bars__status-low",children:[(0,f.jsx)(u.a,{color:"#f90",icon:"fa-exclamation-triangle"}),(0,D.Z)(s)]})})]}),(0,f.jsxs)("div",{ref:b,onMouseDown:function(e){return p(e)},onMouseMove:function(e){return 1===e.buttons&&p(e)},className:"jsx-".concat(F.__hash)+" bar__bars-container",children:[function(){for(var e=[],n={filledBar:"bar__bars-bar-filled",emptyBar:"bar__bars-bar-empty",partialBar:"bar__bars-bar-partial"},r=0;r<t;r++){var i=void 0,s={};r<Math.floor(x*t/100)?i=n.filledBar:r===Math.floor(x*t/100)?(s.height="".concat(x*t%100,"%"),i=n.partialBar):(delete s.height,i=n.emptyBar),e.push((0,f.jsxs)("span",{className:"jsx-".concat(F.__hash),children:[(0,f.jsx)(a(),{id:F.__hash,children:F}),(0,f.jsx)("div",{className:"jsx-".concat(F.__hash)+" bar__bars-content",children:(0,f.jsx)("div",{style:s,className:"jsx-".concat(F.__hash)+" "+"bar__bars-bar ".concat(i)})})]},r))}return e}(),(0,f.jsx)("div",{className:"jsx-".concat(F.__hash)+" bar__percentage",children:(0,f.jsxs)("div",{className:"jsx-".concat(F.__hash),children:[x.toString().split(".")[0],"%"]})})]})]})]})]})},I=n(59559),A=n(71054),B=n(10577),H=function(e,t,n){var r,a,i,s=e/65535*360,o=n/254*(t/254),c=o*(1-Math.abs(s/60%2-1)),l=n/254-o/2;return s>=0&&s<60?(r=o,a=c,i=0):s>=60&&s<120?(r=c,a=o,i=0):s>=120&&s<180?(r=0,a=o,i=c):s>=180&&s<240?(r=0,a=c,i=o):s>=240&&s<300?(r=c,a=0,i=o):(r=o,a=0,i=c),r=Math.round((r+l)*255),a=Math.round((a+l)*255),i=Math.round((i+l)*255),"#".concat(r.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(i.toString(16).padStart(2,"0"))},L=[".d-flex.jsx-2325468756,.color-picker.jsx-2325468756{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".color-picker.jsx-2325468756{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;position:relative;height:100%;cursor:pointer;}",".color-picker__info.jsx-2325468756{gap:var(--s-9);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".color-picker.jsx-2325468756 .preview-color.jsx-2325468756{width:var(--s-element);aspect-ratio:1;cursor:pointer;border-radius:var(--border-radius);}",".color-picker.jsx-2325468756 .color-canvas.jsx-2325468756{width:100%;border-radius:var(--border-radius);}"];L.__hash="2325468756";var G=function(e){var t=e.hex,n=e.onChange,r=(0,i.useState)(),s=r[0],o=r[1],c=(0,i.useRef)(null);(0,i.useEffect)(function(){if(c.current){var e=c.current;e.width=e.offsetWidth,e.height=e.offsetHeight;var t=e.getContext("2d",{willReadFrequently:!0});if(t){var n=t.createLinearGradient(0,0,e.width,0);n.addColorStop(0,"red"),n.addColorStop(.15,"yellow"),n.addColorStop(.33,"green"),n.addColorStop(.49,"cyan"),n.addColorStop(.67,"blue"),n.addColorStop(.84,"magenta"),n.addColorStop(1,"red"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)}}},[]);var l=(0,i.useCallback)((0,T.debounce)(function(e){n&&n(e)},1e3),[n]),d=function(e){var t=e.target,n=(t.name,t.value);o("#".concat(n)),6===n.length&&l(n)};return(0,i.useEffect)(function(){s||o(t||"#fff")},[t,o,d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:L.__hash,children:L}),(0,f.jsxs)("div",{className:"jsx-".concat(L.__hash)+" color-picker",children:[(0,f.jsxs)("div",{className:"jsx-".concat(L.__hash)+" color-picker__info",children:[(0,f.jsx)("div",{style:{backgroundColor:s},className:"jsx-".concat(L.__hash)+" preview-color"}),(0,f.jsxs)("div",{className:"jsx-".concat(L.__hash)+" color-picker__info",children:["#",(0,f.jsx)(A.Z,{value:null==s?void 0:s.replaceAll("#",""),name:"hex",onChange:d,size:"sm"})]})]}),(0,f.jsx)("canvas",{ref:c,onClick:function(e){if(c.current){var n=c.current,r=n.getContext("2d",{willReadFrequently:!0});if(r){var a=n.getBoundingClientRect(),i=e.clientX-a.left,s=e.clientY-a.top,d=r.getImageData(i,s,1,1).data,x="#"+(16777216+(d[0]<<16|d[1]<<8|d[2]<<0)).toString(16).slice(1);t||o(x),l(x)}}},className:"jsx-".concat(L.__hash)+" color-canvas"})]})]})},U=[".knob-container.jsx-1601322626{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:100px;height:100px;}",".knob.jsx-1601322626{width:100%;height:100%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-transition:#1d1d1d 0.3s ease-in-out;transition:#1d1d1d 0.3s ease-in-out;}",".knob.jsx-1601322626:hover{box-shadow:0 0 8px rgba(255,99,71,0.6);}",".label.jsx-1601322626{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:white;font-size:1.2rem;z-index:10;}"];U.__hash="1601322626";var W=function(e){var t,n,r=e.percent,i=(e.setPercent,e.style),s=e.label,o={background:"conic-gradient(".concat(null!==(t=null==i?void 0:i.color)&&void 0!==t?t:"#ff3300"," 0% ").concat(r,"%, ").concat(null!==(n=null==i?void 0:i.backgroundColor)&&void 0!==n?n:"#000"," ").concat(r,"% 100%)")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:U.__hash,children:U}),(0,f.jsx)("div",{className:"jsx-".concat(U.__hash)+" knob-container",children:(0,f.jsx)("div",{style:o,onMouseDown:function(e){},className:"jsx-".concat(U.__hash)+" knob",children:s&&(0,f.jsx)("span",{className:"jsx-".concat(U.__hash)+" label",children:s})})})]})};function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=function(){var e,t,n=(0,P.U2)(),r=(0,O.Z)(n,2),s=(r[0],r[1]),o=(0,i.useState)(!1);o[0],o[1];var c=(0,i.useState)(),l=c[0],d=c[1],x=(0,i.useState)(),h=x[0],b=x[1],_=(0,i.useState)(!1),p=_[0];_[1];var g=(0,z.ko)("IHomeService"),m=(0,i.useState)("light"),j=m[0],y=m[1],w=function(e,t){b(function(){return h.map(function(n){return n.id_==e.id_&&(t&&(e.view="color"),n=e),n})})},k=function(e){b(h.map(function(t){return(null==t?void 0:t.id_)==e&&((null==t?void 0:t.view)==void 0?t.view="color":(null==t?void 0:t.view)!=void 0&&delete t.view),t}))},C=h&&(null==h?void 0:h.filter(function(e){return e.is_on}))||[],F=function(e){if(0!==C.length){var t=((l?C.findIndex(function(e){return e.id_===l.id_}):-1)+1)%C.length,n=C[t];d(n),J("color",{id:n.id_,hex:e})}},M=(0,i.useState)([]),D=M[0],T=M[1];C&&C.map(function(e,t){var n=null!=e&&e.hex?"#".concat(function e(t){return""===t?"":e(t.substr(1))+t.charAt(0)}(e.hex.substring(1,e.hex.length))):"#ff3300";return{time:(t+1)*1e3,value:n,backgroundColor:n,onPoint:F}});var L=(e=(0,N.Z)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({active:!0,body:"loading ".concat(t),animation:!0}),e.prev=1,e.next=4,g.hue_list(t);case 4:b(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("[ FETCH LIGHTS (ERR) ]",JSON.stringify(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t){return e.apply(this,arguments)}),U=function(e){T(void 0!==D?[].concat((0,S.Z)(D),[e]):[e])},V=function(e){D&&T(D.filter(function(t){return t!==e}))},J=(t=(0,N.Z)(Z().mark(function e(t,n){var r,a,i,o,c;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=function(e,t,n){s({active:e,body:"".concat(t,", ").concat(n," "),animation:!0})})(!0,t,null==n?void 0:n.name),a=function(){var e=(0,N.Z)(Z().mark(function e(r){var a,i,s;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Number(r),e.t0=t,e.next="toggle"===e.t0?4:"brightness"===e.t0?8:"color"===e.t0?13:21;break;case 4:return e.next=6,g.hue_toggle(i,"group"===j&&"group"||void 0);case 6:return a=e.sent,e.abrupt("break",21);case 8:if(!((null==n?void 0:n.bri)!==void 0)){e.next=12;break}return e.next=11,g.hue_brightness(i,n.bri,j);case 11:a=e.sent;case 12:return e.abrupt("break",21);case 13:if(!(null!=n&&n.hex)){e.next=20;break}return console.log("[ data.hex ] ",n.hex,j),e.next=17,g.lightColor(r,n.hex,j);case 17:s=H((a=e.sent).hue,a.sat,a.bri),a=Y(Y({},a),{},{hex:s,view:"color"});case 20:return e.abrupt("break",21);case 21:a&&w(a,"color"===t);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!(D.length>0&&["toggle","brightness","color"].includes(t))){e.next=23;break}i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return q(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}(D),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=13;break}return c=o.value,e.next=11,a(c);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:e.next=26;break;case 23:if(!(null!=n&&n.id)){e.next=26;break}return e.next=26,a(n.id);case 26:r(!1,t,null==n?void 0:n.name);case 27:case"end":return e.stop()}},e,null,[[5,15,18,21]])})),function(e,n){return t.apply(this,arguments)}),X=function(e){L(e).then(function(){s({active:!1}),e&&y(e)})};return(0,i.useEffect)(function(){void 0==h&&X()},[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:E.__hash,children:E}),(0,f.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights",children:[(0,f.jsx)(W,{percent:10}),h&&!p&&(0,f.jsx)(v.Z,{xs:1,sm:3,gap:15,children:Object.entries(h).map(function(e,t){var n=(0,O.Z)(e,2),r=(n[0],n[1]);return(0,f.jsxs)("div",{onDoubleClick:function(){null!=D&&D.includes(r.id_)?(console.log("removeFromGroup(".concat(r.id_,")")),V(r.id_)):(console.log("addToGroup(".concat(r.id_,")")),U(r.id_))},className:"jsx-".concat(E.__hash)+" "+"lights__light ".concat(null!=D&&D.includes(r.id_)?"in-group":""),children:[(0,f.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights__light-header",children:[(0,f.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:[(0,f.jsx)(A.Z,{size:"sm",value:r.name,disabled:!0}),(0,f.jsx)(B.Z,{size:"sm",children:"update"})]}),(0,f.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:[(0,f.jsx)(I.Z,{name:null==r?void 0:r.id_,value:null==r?void 0:r.is_on,onChange:function(){return J("toggle",{id:r.id_})}}),(0,f.jsx)("div",{onClick:function(){return k(r.id_)},className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:(0,f.jsx)(u.a,{icon:"fa-palette"})})]})]}),(null==r?void 0:r.view)!=="color"?(0,f.jsx)(R,{onChange:function(e){0!=String(e).length&&e&&J("brightness",{id:r.id_,bri:e,name:r.name})},barCount:5,percentage:(null==r?void 0:r.bri)*100/254}):(0,f.jsx)(G,{hex:r.hex,onChange:function(e){return J("color",{id:r.id_,hex:e,name:r.name})}})]},t)})}),"object"==typeof p&&(0,f.jsx)(R,{onChange:function(e){0!=String(e).length&&e&&(String(e).startsWith("#")?J("color",{id:p.id_,hex:e}):J("brightness",{id:p.id_,bri:e}))},barCount:5,percentage:(null==p?void 0:p.bri)*100/254})]})]})},X=n(39925),$=function(e){e.vid;var t=(0,y.a)(),n={home:(0,f.jsx)(function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:s.__hash,children:s}),(0,f.jsx)("div",{className:"jsx-".concat(s.__hash)+" home__default",children:(0,f.jsxs)("div",{className:"jsx-".concat(s.__hash)+" home__default--title",children:[t&&(null==t?void 0:t.name)&&(0,X.Z)(t.name)||"",", Home Automation."]})})]})},{}),surveillance:(0,f.jsx)(w,{}),light:(0,f.jsx)(J,{})};return t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:s.__hash,children:s}),(0,f.jsx)(k.Z,{defaultView:"home",views:n})]}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(x.Z,{})})}}}]);
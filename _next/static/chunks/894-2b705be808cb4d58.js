"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{79894:function(e,t,i){i.d(t,{Z:function(){return verify_controller_Verify}});var r=i(65003),n=i.n(r),a=i(67294),o=[".d-flex.jsx-1000144651,.verify__default.jsx-1000144651,.loadslider.jsx-1000144651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loadslider.jsx-1000144651{min-height:100px;min-width:100%;background-size:200% 100%;}","@-webkit-keyframes slidePulse-jsx-1000144651{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}","@keyframes slidePulse-jsx-1000144651{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}",".verify.jsx-1000144651{width:100%;margin:var(--padding) 0;}",".verify--header.jsx-1000144651{color:var(--gray-40);width:var(--padding-width);max-width:var(--padding-width);overflow:hidden;padding:var(--padding) 0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;text-overflow:ellipsis;}",".verify--header--title.jsx-1000144651{color:var(--gray-50);font-size:var(--s-3);}",".verify__default.jsx-1000144651{background-color:var(--gray-80);min-height:50vh;color:var(--gray-40);line-height:1;padding:var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--padding);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;border-radius:var(--border-radius);border:solid 1px var(--gray-60);box-shadow:var(--box-shadow-xl);}",".verify__default.jsx-1000144651 h1.jsx-1000144651,.verify__default.jsx-1000144651 p.jsx-1000144651{line-height:1;margin:0;}",".verify__default.jsx-1000144651 p.jsx-1000144651{color:var(--gray-50);}"];o.__hash="1000144651";var l=i(11163),s=i(59499),c=i(50029),d=i(87794),f=i.n(d),u=[".d-flex.jsx-4107889108,.verify-email__content.jsx-4107889108,.verify-email.jsx-4107889108{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".verify-email.jsx-4107889108{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border:solid 1px;border-radius:var(--border-radius);margin:var(--element-height) 0;color:var(--gray-70);background-color:var(--gray-80);height:500px;width:calc(100% - 2px);}","@media (max-width:1100px){.verify-email.jsx-4107889108{margin:var(--element-height) var(--padding);width:var(--padding-width);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".verify-email__content.jsx-4107889108{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","@media (max-width:1100px){.verify-email__content.jsx-4107889108{max-width:500px;}}"];u.__hash="4107889108";var v=i(59280),m=i(60682),x=i(42737),g=i(52779),p=i(85893);function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){(0,s.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var views_VerifyEmail_VerifyEmail=function(e){var t,i,r,o,l,s,d=e.token,h=e.onSuccess,b=(0,a.useState)({status:"verifying_email"}),w=b[0],y=b[1],j=(0,v.ko)("IMemberService"),_=(t=(0,c.Z)(f().mark(function _callee(){var e,t;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(d){i.next=3;break}return y({status:"no_token_present"}),i.abrupt("return");case 3:return i.next=6,j.verifyEmail(String(d));case 6:"incomplete"==(t=i.sent).status?y(t):"success"==t.status&&t.customer?h("".concat(null===(e=t.customer)||void 0===e?void 0:e.email)):[409,404,400,304,500].includes(t.status)&&y(_objectSpread(_objectSpread({},t),{},{status:null==t?void 0:t.detail,error:null==t?void 0:t.detail})),console.log(t);case 9:case"end":return i.stop()}},_callee)})),function(){return t.apply(this,arguments)}),k=(i=(0,c.Z)(f().mark(function _callee2(){var e,t,i,r,n;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=null==w?void 0:null===(e=w.fields)||void 0===e?void 0:null===(t=e.find(function(e){return"password"==e.name}))||void 0===t?void 0:t.value,(r=w.customer).metadata.password=i,a.next=5,j.updateMember(r.id,r);case 5:(n=a.sent)&&h(n.email);case 7:case"end":return a.stop()}},_callee2)})),function(){return i.apply(this,arguments)});return(0,a.useEffect)(function(){_()},[d]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n(),{id:u.__hash,children:u}),(0,p.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email",children:(0,p.jsxs)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content",children:["incomplete"==w.status&&(null==w?void 0:w.fields)&&(0,p.jsx)(g.Z,{title:String(null==w?void 0:w.detail)||void 0,onChange:function(e){var t,i,r=e.target,n=r.name,a=r.value,o=null==w?void 0:w.fields,iter=function(e){return null==o?void 0:o.find(function(t){return t.name===e})},l=null===(t=iter("password"))||void 0===t?void 0:t.value,s=null===(i=iter("confirm_password"))||void 0===i?void 0:i.value,c=null==o?void 0:o.map(function(e){if(e.name===n){var t=_objectSpread(_objectSpread({},e),{},{value:a});return"confirm_password"===n&&l!==a&&""!==l||"password"===n&&s!==a&&""!==s?t.error="Not Same as Password":t.error&&delete t.error,t}return e});y(_objectSpread(_objectSpread({},w),{},{fields:c}))},fields:w.fields,onSubmit:k}),(0,p.jsx)(m.Z,{position:"relative",text:(l="",(s=function(e){return"string"==typeof e})(w.status)?l=String(w.status):s(w.detail)?l=String(w.detail):null!==(r=w.detail)&&void 0!==r&&r.detail&&s(null===(o=w.detail)||void 0===o?void 0:o.detail)&&(l=w.detail.detail),(0,x.Z)(l)),dots:(null==w?void 0:w.status)!=void 0&&["verifying_email"].includes(null==w?void 0:w.status)})]})})]})},h=i(11280);i(1277);var verify_controller_Verify=function(){var e=(0,l.useRouter)(),t=(e.pathname,e.query),i=(0,a.useState)(""),r=i[0],s=i[1],c=(0,a.useState)(),d=c[0],f=c[1],u=(0,a.useState)(),v=u[0],m=u[1];return(0,a.useEffect)(function(){"string"==typeof t.vid&&s(t.vid),"string"==typeof t.token&&f(t.token),v&&s("sign-in")},[t,v]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n(),{id:o.__hash,children:o}),(0,p.jsxs)("div",{className:"jsx-".concat(o.__hash)+" verify",children:["sign-in"==r&&(0,p.jsx)(h.Z,{email:v}),"email"==r&&(0,p.jsx)(views_VerifyEmail_VerifyEmail,{token:d,onSuccess:function(e){return m(e)}}),!["email","sign-in"].includes(r)&&(0,p.jsxs)("div",{className:"jsx-".concat(o.__hash)+" verify__default",children:[(0,p.jsx)("h1",{className:"jsx-".concat(o.__hash),children:"Verify"}),(0,p.jsx)("p",{className:"jsx-".concat(o.__hash),children:"Here is where you will verify a token in which you should have recieved via a specified contact method."})]})]})]})}},1277:function(e,t,i){i(87794);var r=i(67294),n=i(20745),a=i(15029),o=i(53459),l=i(99477),s=i(89646),c=i(30398),d=i(81367),f=i(17360),u=i(85893),findSVGElement=function findSVGElement(e){if("svg"===e.tagName.toLowerCase())return e;if(e.children)for(var t=Array.from(e.children),i=0;i<t.length;i++){var r=findSVGElement(t[i]);if(r)return r}return null},TJSCubeContent=function(e){var t=e.svg,i=e.svgOptions,a=e.size,f=(0,r.useRef)(null),v=(0,o.A)().scene,m=(0,r.useState)(null),x=m[0],g=m[1];return(0,r.useEffect)(function(){if(x)new d.u().load(x,function(e){if("string"==typeof t)g(t);else if(r.isValidElement(t)){var i=document.createElement("div"),a=(0,n.createRoot)(i);a.render(t),setTimeout(function(){var e=findSVGElement(i);if(e){var t=new XMLSerializer().serializeToString(e),r=new Blob([t],{type:"image/svg+xml"}),n=URL.createObjectURL(r);g(n),console.log("[svgElement]",{serializedSvg:t,svgBlob:r,url:n})}else console.error("SVG content is not properly rendered.");a.unmount(),i.remove()},0)}},void 0,function(e){console.error("Error loading SVG:",e)});else{var e=a||{x:1,y:1,z:1},o=new l.BoxGeometry(e.x,e.y,e.z),s=new l.MeshStandardMaterial({color:(null==i?void 0:i.color)||"#FFFFFF"}),c=new l.Mesh(o,s);f.current&&v.remove(f.current),f.current=c,v.add(c),console.log("Default cube added to scene:",c)}},[x,i,v,a]),(0,r.useEffect)(function(){if(x)new d.u().load(x,function(e){},void 0,function(e){console.error("Error loading SVG:",e)});else if(a&&null!=a&&a.x&&null!=a&&a.y&&null!=a&&a.z){var e=new l.BoxGeometry(a.x,a.y,a.z),t=new l.MeshStandardMaterial({color:(null==i?void 0:i.color)||"#FFFFFF"}),r=new l.Mesh(e,t);f.current&&v.remove(f.current),f.current=r,v.add(r),console.log("Default cube added to scene:",r)}},[x,i,v,a]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ambientLight",{}),(0,u.jsx)(s.c,{makeDefault:!0,position:[0,-45,300]}),(0,u.jsx)(c.z,{})]})};t.Z=function(e){var t=e.svg,i=e.svgOptions,r=e.size,n=(0,f.Z)(),o=n.width,l=n.height;return(0,u.jsx)(a.Xz,{orthographic:!0,camera:{position:[0,0,50],zoom:1,left:-(o/2),right:o/2,top:l/2,bottom:-(l/2),near:.1,far:100},children:(0,u.jsx)(TJSCubeContent,{svg:t,svgOptions:i,size:r})})}}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{79894:function(e,t,r){r.d(t,{Z:function(){return verify_controller_Verify}});var i=r(65003),n=r.n(i),a=r(67294),s=[".d-flex.jsx-2290089227,.verify__default.jsx-2290089227,.loadslider.jsx-2290089227{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loadslider.jsx-2290089227{min-height:100px;min-width:100%;background-size:200% 100%;}","@-webkit-keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}","@keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}",".verify.jsx-2290089227{color:var(--white);width:var(--padding-width);margin:var(--padding);}",".verify--header.jsx-2290089227{color:var(--gray-40);width:var(--padding-width);max-width:var(--padding-width);overflow:hidden;padding:var(--padding) 0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;text-overflow:ellipsis;}",".verify--header--title.jsx-2290089227{color:var(--gray-50);font-size:var(--s-3);}",".verify__default.jsx-2290089227{background-color:var(--gray-80);min-height:50vh;color:var(--gray-40);line-height:1;padding:var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--padding);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;border-radius:var(--border-radius);border:solid 1px var(--gray-60);box-shadow:var(--box-shadow-xl);}",".verify__default.jsx-2290089227 h1.jsx-2290089227,.verify__default.jsx-2290089227 p.jsx-2290089227{line-height:1;margin:0;}",".verify__default.jsx-2290089227 p.jsx-2290089227{color:var(--gray-50);}"];s.__hash="2290089227";var o=r(11163),l=r(59499),c=r(50029),d=r(87794),u=r.n(d),f=[".d-flex.jsx-2378720047,.verify-email__content--loader.jsx-2378720047,.verify-email__content.jsx-2378720047,.verify-email.jsx-2378720047{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".verify-email.jsx-2378720047{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border:solid 1px;border-radius:var(--border-radius);margin:var(--element-height) 0;color:var(--gray-70);background-color:var(--gray-80);min-height:500px;width:calc(var(--padding-width) - 2px);}","@media (max-width:1100px){.verify-email.jsx-2378720047{margin:var(--element-height) var(--padding);width:var(--padding-width);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".verify-email__content.jsx-2378720047{margin:var(--padding);width:var(--padding-width);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".verify-email__content--loader.jsx-2378720047{width:100%;height:400px;--icon-size:200px;}","@media (max-width:1100px){.verify-email__content--loader.jsx-2378720047{height:100%;width:250px;}}",".verify-email__content__sign-in.jsx-2378720047{width:100%;}",".verify-email__content__sign-in--title.jsx-2378720047{font-size:var(--s-2);color:var(--gray-20);line-height:2;}"];f.__hash="2378720047";var v=r(59280),x=r(60682),h=r(42737),m=r(52779),g=r(11280),p=r(27691),_=r(99073),b=r(85893);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var views_VerifyEmail_VerifyEmail=function(e){var t,r,i,s,o,l,d=e.token,g=e.onSuccess,y=(0,a.useState)({status:"verifying_email"}),w=y[0],j=y[1],k=(0,v.ko)("IMemberService");(0,_.dd)().openModal;var S=(t=(0,c.Z)(u().mark(function _callee(){var e;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=3;break}return j({status:"no_token_present"}),t.abrupt("return");case 3:return t.next=5,k.verifyEmail(String(d));case 5:(e=t.sent)&&j(e);case 7:case"end":return t.stop()}},_callee)})),function(){return t.apply(this,arguments)}),E=(r=(0,c.Z)(u().mark(function _callee2(){var e,t,r,i,n;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=null==w?void 0:null===(e=w.fields)||void 0===e?void 0:null===(t=e.find(function(e){return"password"==e.name}))||void 0===t?void 0:t.value,(i=w.customer).metadata.password=r,a.next=5,k.updateMember(i.id,i);case 5:(n=a.sent)&&g(n.email);case 7:case"end":return a.stop()}},_callee2)})),function(){return r.apply(this,arguments)});return(0,a.useEffect)(function(){S()},[d]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n(),{id:f.__hash,children:f}),(0,b.jsx)("div",{className:"jsx-".concat(f.__hash)+" verify-email",children:(0,b.jsxs)("div",{className:"jsx-".concat(f.__hash)+" "+"verify-email__content".concat("verification_success"===w.status?" verify-email__content--success":""),children:[(0,b.jsx)("div",{className:"jsx-".concat(f.__hash)+" verify-email__content--loader",children:(0,b.jsx)(x.Z,{position:"relative",text:(o="",(l=function(e){return"string"==typeof e})(w.status)?o=String(w.status):l(w.detail)?o=String(w.detail):null!==(i=w.detail)&&void 0!==i&&i.detail&&l(null===(s=w.detail)||void 0===s?void 0:s.detail)&&(o=w.detail.detail),(0,h.Z)(o)),dots:(null==w?void 0:w.status)!=void 0&&["verifying_email"].includes(null==w?void 0:w.status)})}),"incomplete"==w.status&&(null==w?void 0:w.fields)&&(0,b.jsx)(m.Z,{title:String(null==w?void 0:w.detail)||void 0,onChange:function(e){var t,r,i=e.target,n=i.name,a=i.value,s=null==w?void 0:w.fields,iter=function(e){return null==s?void 0:s.find(function(t){return t.name===e})},o=null===(t=iter("password"))||void 0===t?void 0:t.value,l=null===(r=iter("confirm_password"))||void 0===r?void 0:r.value,c=null==s?void 0:s.map(function(e){if(e.name===n){var t=_objectSpread(_objectSpread({},e),{},{value:a});return"confirm_password"===n&&o!==a&&""!==o||"password"===n&&l!==a&&""!==l?t.error="Not Same as Password":t.error&&delete t.error,t}return e});j(_objectSpread(_objectSpread({},w),{},{fields:c}))},fields:w.fields,onSubmit:E}),"verification_success"===w.status&&w.customer.email&&(0,b.jsx)("div",{className:"jsx-".concat(f.__hash)+" verify-email__content__sign-in",children:(0,b.jsx)(p.Z,{href:"/account",children:"Go to Account"})})]})})]})};r(66609);var verify_controller_Verify=function(){var e=(0,o.useRouter)(),t=(e.pathname,e.query),r=(0,a.useState)(""),i=r[0],l=r[1],c=(0,a.useState)(),d=c[0],u=c[1],f=(0,a.useState)(),v=f[0],x=f[1];return(0,a.useEffect)(function(){"string"==typeof t.vid&&l(t.vid),"string"==typeof t.token&&u(t.token),v&&l("sign-in")},[t,v]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n(),{id:s.__hash,children:s}),(0,b.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify",children:["sign-in"==i&&(0,b.jsx)(g.Z,{email:v}),"email"==i&&(0,b.jsx)(views_VerifyEmail_VerifyEmail,{token:d,onSuccess:function(e){return x(e)}}),!["email","sign-in"].includes(i)&&(0,b.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify__default",children:[(0,b.jsx)("h1",{className:"jsx-".concat(s.__hash),children:"Verify"}),(0,b.jsx)("p",{className:"jsx-".concat(s.__hash),children:"Here is where you will verify a token in which you should have recieved via a specified contact method."})]})]})]})}},66609:function(e,t,r){r.d(t,{Z:function(){return TJSCube_controller_TJSCube}});var i=r(65003),n=r.n(i),a=r(67294),s=r(20745),o=r(53459),l=r(15029),c=r(99477),d=r(30398),u=r(89646),f=r(81367),v=r(17360),x=[".tjscube__container.jsx-3364526432{width:100%;border:solid 1px;}"];x.__hash="3364526432";var h=r(85893);(0,o.e)({OrbitControls:d.z});var TJSCubeContent=function(e){var t=e.svg,r=e.svgOptions,i=e.size,n=(0,a.useRef)(null),l=(0,a.useRef)(null),v=(0,o.A)(),x=v.scene,m=v.camera,g=(0,a.useState)(null),p=g[0],_=g[1];return(0,a.useEffect)(function(){n.current&&l.current&&l.current.target.copy(n.current.position)},[n.current]),(0,a.useEffect)(function(){if(t&&"string"==typeof t)new f.u().load(t,function(e){var t=e.paths.flatMap(function(e){return e.toShapes(!0)}),i=new c.ExtrudeGeometry(t,{depth:(null==r?void 0:r.depth)||2,bevelEnabled:(null==r?void 0:r.bevelEnabled)||!1});n.current&&(n.current.geometry=i)},void 0,function(e){console.error("Error loading SVG:",e)}),_(t);else if(a.isValidElement(t)){var e=document.createElement("div");document.body.appendChild(e);var i=(0,s.createRoot)(e);i.render(t),setTimeout(function(){var t=e.querySelector("svg");if(t){var r=new XMLSerializer().serializeToString(t),n=new Blob([r],{type:"image/svg+xml"});_(URL.createObjectURL(n))}else console.error("SVG content is not properly rendered.");i.unmount(),e.remove()},0)}},[t]),(0,a.useEffect)(function(){if(p)new f.u().load(p,function(e){var t=e.paths.flatMap(function(e){return e.toShapes(!0)}),i=new c.ExtrudeGeometry(t,{depth:(null==r?void 0:r.depth)||2,bevelEnabled:(null==r?void 0:r.bevelEnabled)||!1}),a=new c.MeshStandardMaterial({color:(null==r?void 0:r.color)||"#FFFFFF"}),s=new c.Mesh(i,a);s.scale.multiplyScalar(.1),console.log("[ mesh ]",n.current),s.position.set(-50,50,0),s.rotation.x=-Math.PI/2,n.current&&x.remove(n.current),x.add(s)},void 0,function(e){console.error("Error loading SVG:",e)});else if(i&&i.x&&i.y&&i.z){var e=new c.BoxGeometry(i.x,i.y,i.z),t=new c.MeshStandardMaterial({color:(null==r?void 0:r.color)||"#FFFFFF"}),a=new c.Mesh(e,t);n.current&&x.remove(n.current),n.current=a,x.add(a)}},[p,r,x,i]),(0,o.C)(function(){l.current&&l.current.update()}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("ambientLight",{}),(0,h.jsx)(u.c,{makeDefault:!0,position:[0,-45,300]}),(0,h.jsx)(d.z,{ref:l,args:[m]})]})},TJSCube_controller_TJSCube=function(e){var t=e.svg,r=e.svgOptions,i=e.size,a=(0,v.Z)(),s=a.width,o=a.height,c=Math.abs(o*s)/function(e,t){for(;0!==t;){var r=e;e=t,t=r%t}return e}(o,s);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n(),{id:x.__hash,children:x}),JSON.stringify(c),(0,h.jsx)("div",{style:{aspectRatio:"".concat(o,"/").concat(s)},className:"jsx-".concat(x.__hash)+" tjscube__container",children:(0,h.jsx)(l.Xz,{children:(0,h.jsx)(TJSCubeContent,{svg:t,svgOptions:r,size:i})})})]})}}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{99018:function(e,t,n){n.d(t,{Z:function(){return U}});var r=n(8151),i=n.n(r),a=n(67294),s=[".d-flex.jsx-3320115234,.home__default.jsx-3320115234{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".home__default.jsx-3320115234{width:var(--padding-width);padding:var(--padding);}",".home__default--title.jsx-3320115234{color:var(--gray-30);font-size:var(--s-3);}"];s.__hash="3320115234";var o=[".surveillance.jsx-3472433715{min-height:500px;width:100%;}"];o.__hash="3472433715";var c=n(59499),l=["img.jsx-925066019{width:100%;height:auto;z-index:1;position:relative;}","img.jsx-925066019 .d-flex.jsx-925066019,img.jsx-925066019 img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".d-flex.jsx-925066019,img.jsx-925066019{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];l.__hash="925066019";var d=[".d-flex.jsx-1953216386,.image-control.jsx-1953216386 .image-control__controls.jsx-1953216386{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".image-control.jsx-1953216386{width:auto;--icon-size:60px;--font-size:var(--s-7);position:relative;height:auto;overflow:hidden;outline:solid 1px var(--gray-80);}","@media (max-width:900px){.image-control.jsx-1953216386{max-width:calc(100vw - var(--padding) * 2);}}",".image-control__loading.jsx-1953216386{aspect-ratio:16/9;}",".image-control.jsx-1953216386:hover .image-control__controls.jsx-1953216386{bottom:0;opacity:1;}",".image-control.jsx-1953216386 .image-control__element.jsx-1953216386{background-color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:auto;z-index:-1;}",".image-control.jsx-1953216386 .image-control__controls.jsx-1953216386{background-color:var(--gray-100);z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:absolute;bottom:-100%;padding:0 var(--s-9);width:calc(100% - var(--s-9) * 2);left:0;height:var(--element-height);opacity:0;-webkit-transition:bottom 0.5s ease,opacity 0.5s ease;transition:bottom 0.5s ease,opacity 0.5s ease;}",".image-control.jsx-1953216386 .image-control__controls__control.jsx-1953216386{cursor:pointer;}",".image-control.jsx-1953216386 .image-control__controls__control.jsx-1953216386:hover{--ui-icon-color:var(--primary);}"];d.__hash="1953216386";var x=n(5531),h=n(36096),u=n(68737),f=n(99013),b=n(85893),g=function e(t){var n=t.children,r=t.variant,s=t.mediaType,o=void 0===s?"image":s,c=t.refreshInterval,l=void 0===c?1e3:c,g=t.error,p=t.loadingText,_=t.fixedLoad,m=(0,a.useRef)(null),j=(0,a.useState)(!0),v=j[0],k=j[1],w=(0,h.Z)({cls:"image-control__element",type:o,variant:r}),y=(0,f.dd)(),S=y.openModal,C=y.closeModal,N=y.isModalOpen;return(0,a.useEffect)(function(){var e=setInterval(function(){var e,t=null==m||null===(e=m.current)||void 0===e?void 0:e.offsetHeight;m.current&&t&&t>30?k(!1):g&&!v&&k(!0)},l);return function(){return clearInterval(e)}},[l,v,m.current]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:d.__hash,children:d}),(0,b.jsxs)("div",{className:"jsx-".concat(d.__hash)+" "+"image-control".concat(v?" image-control__loading":""),children:[" ",!0==v&&(0,b.jsx)(x.Z,{position:void 0!==_&&_?void 0:"relative",text:g||p||void 0,dots:!["string","object"].includes(typeof g)&&void 0}),(0,b.jsx)("div",{id:"image-control__element",ref:m,className:"jsx-".concat(d.__hash)+" "+"".concat(w),children:a.Children.map(n,function(e){return(0,a.isValidElement)(e)?(0,a.cloneElement)(e):e})}),(0,b.jsxs)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls",children:[(0,b.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,b.jsx)(u.a,{icon:"fa-play-pause"})}),(0,b.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,b.jsx)(u.a,{icon:"fa-expand",onClick:function(){N?C():S({children:(0,b.jsx)(e,{fixedLoad:!0,variant:r,mediaType:o,refreshInterval:l,error:g,children:n}),variant:"fullscreen"})}})})]})]})]})};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){var t=e.src,n=e.variant,r=e.type,s=e.alt,o=e.loadingText,c=(0,a.useState)({variant:n,type:r}),d=c[0],x=c[1],h=(0,a.useState)(0),f=h[0],p=h[1],m=function(){x(_(_({},d),{},{error:null})),p(function(e){return e+1})},j=function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{color:"#f90"},children:[o,", Failed"]}),(0,b.jsx)("div",{children:(0,b.jsx)(u.a,{icon:"fa-arrows-rotate",onClick:m})})]})},v=function(e){e.preventDefault(),console.log("[ ERROR ]",e),d.error||x(_(_({},d),{},{error:(0,b.jsx)(j,{})}))};return d.loadingText=o,(0,a.useEffect)(function(){},[v,d]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:l.__hash,children:l}),(0,b.jsx)(g,_(_({},d),{},{children:!d.error&&(0,b.jsx)("img",{src:t,alt:s,onError:v,className:"jsx-".concat(l.__hash)},f)}))]})},j=n(6515),v=n(65061),k=n(49263),w=function(){return(0,k.a)(),(0,a.useEffect)(function(){},[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:o.__hash,children:o}),(0,b.jsx)("div",{className:"jsx-".concat(o.__hash)+" surveillance",children:(0,b.jsxs)(v.Z,{xs:1,md:2,padding:"0 0 200px",children:[(0,b.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=2"),loadingText:"loading camera 2"}),(0,b.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=3"),loadingText:"loading camera 3"}),(0,b.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=1"),loadingText:"loading camera 1"}),(0,b.jsx)(m,{src:"".concat(j.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=4"),loadingText:"loading camera 4"})]})})]})},y=n(87828),S=n(50029),C=n(16835),N=n(64687),O=n.n(N),E=[".d-flex.jsx-842965180,.lights__light-header-title.jsx-842965180,.lights__light-header--action.jsx-842965180,.lights__light-header.jsx-842965180,.lights__light.jsx-842965180{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".lights.jsx-842965180{width:var(--padding-width);padding:var(--padding);height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".lights__light.jsx-842965180{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);border:solid 1px var(--gray-80);border-radius:var(--border-radius);background-color:var(--gray-90);padding:var(--s-9);}",".lights__light-header.jsx-842965180{gap:var(--s-9);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;text-transform:capitalize;}",".lights__light-header--action.jsx-842965180{cursor:pointer;min-height:var(--element-height);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:var(--s-9);--ui-icon-color:var(--gray-40);}",".lights__light-header--action.jsx-842965180:hover{--ui-icon-color:var(--gray-20);}",".lights__light-header-title.jsx-842965180{min-height:var(--element-height);gap:var(--s-9);}"];E.__hash="842965180";var Z=n(52553),P=n(26913),z=n(73242),F=n(12621),M=n(67261),R=n(27812),T=[".ui-media-slider.jsx-837193505{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:16px 0;}",".media-slider.jsx-837193505{width:100%;background-color:#f0f0f0;height:var(--element-height);border-radius:10px;}",".slider-track.jsx-837193505{height:100%;width:100%;border-radius:10px;}",".points.jsx-837193505{position:relative;width:100%;max-width:100%;margin-top:var(--padding);height:var(--s-6);}",".point.jsx-837193505{position:absolute;height:var(--s-6);aspect-ratio:1;border-radius:50%;cursor:pointer;}"];T.__hash="837193505";var D=function(e){var t=e.atPoints,n=e.duration,r=e.start,s=e.persistent,o=void 0!==s&&s,c=e.loop,l=void 0!==c&&c,d=e.backgroundColors,x=void 0===d?["#ccc"]:d,h=(0,a.useState)(0),u=h[0],f=h[1],g=(0,a.useState)([]),p=g[0],_=g[1];(0,a.useEffect)(function(){var e;return r&&n?e=window.setInterval(function(){f(function(e){var t=e+10;return t<=n?t:n})},10):(void 0!==e&&clearInterval(e),f(0),_([])),function(){void 0!==e&&clearInterval(e)}},[r,n]),(0,a.useEffect)(function(){null==t||t.forEach(function(e,t){!(u>=e.time)||p.includes(t)||(null==e||e.onPoint(e.value),o||_(function(e){return[].concat((0,R.Z)(e),[t])}))})},[u,t,p,o]),(0,a.useEffect)(function(){u>=n&&l&&(f(0),_([]))},[u,n,l]);var m=u/n*100,j=x.length>1?"linear-gradient(to right, ".concat(x.join(", "),")"):x[0];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:T.__hash,children:T}),(0,b.jsxs)("div",{className:"jsx-".concat(T.__hash)+" ui-media-slider",children:[(0,b.jsx)("div",{className:"jsx-".concat(T.__hash)+" media-slider",children:(0,b.jsx)("div",{style:{width:"".concat(m,"%"),background:j},className:"jsx-".concat(T.__hash)+" slider-track "})}),(0,b.jsx)("div",{className:"jsx-".concat(T.__hash)+" points",children:t&&t.map(function(e,t){return(0,b.jsx)("div",{style:null!=e&&e.backgroundColor?{left:"".concat(e.time/n*100,"%"),backgroundColor:e.value}:{left:"".concat(e.time/n*100,"%")},onClick:function(){return e.onPoint(e.value)},className:"jsx-".concat(T.__hash)+" point"},t)})})]})]})},I=n(18508),B=function(e,t,n){var r,i,a,s=e/65535*360,o=n/254*(t/254),c=o*(1-Math.abs(s/60%2-1)),l=n/254-o/2;return s>=0&&s<60?(r=o,i=c,a=0):s>=60&&s<120?(r=c,i=o,a=0):s>=120&&s<180?(r=0,i=o,a=c):s>=180&&s<240?(r=0,i=c,a=o):s>=240&&s<300?(r=c,i=0,a=o):(r=o,i=0,a=c),r=Math.round((r+l)*255),i=Math.round((i+l)*255),a=Math.round((a+l)*255),"#".concat(r.toString(16).padStart(2,"0")).concat(i.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0"))},H=[".d-flex.jsx-1217563106,.color-picker.jsx-1217563106{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".color-picker.jsx-1217563106{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;position:relative;height:100%;cursor:pointer;}",".color-picker__info.jsx-1217563106{gap:var(--s-9);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".color-picker.jsx-1217563106 .preview-color.jsx-1217563106{width:var(--element-height);aspect-ratio:1;cursor:pointer;border-radius:var(--border-radius);}",".color-picker.jsx-1217563106 .color-canvas.jsx-1217563106{width:100%;border-radius:var(--border-radius);}"];H.__hash="1217563106";var q=n(96486),A=function(e){var t=e.hex,n=e.onChange,r=(0,a.useState)("#fff"),s=r[0],o=r[1],c=(0,a.useRef)(null);(0,a.useEffect)(function(){if(c.current){var e=c.current;e.width=e.offsetWidth,e.height=e.offsetHeight;var t=e.getContext("2d",{willReadFrequently:!0});if(t){var n=t.createLinearGradient(0,0,e.width,0);n.addColorStop(0,"red"),n.addColorStop(.15,"yellow"),n.addColorStop(.33,"green"),n.addColorStop(.49,"cyan"),n.addColorStop(.67,"blue"),n.addColorStop(.84,"magenta"),n.addColorStop(1,"red"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)}}},[]);var l=(0,a.useCallback)((0,q.debounce)(function(e){n&&n(e)},1e3),[n]);return(0,a.useEffect)(function(){t&&t!==s&&o(t)},[t]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:H.__hash,children:H}),(0,b.jsxs)("div",{className:"jsx-".concat(H.__hash)+" color-picker",children:[(0,b.jsxs)("div",{className:"jsx-".concat(H.__hash)+" color-picker__info",children:[(0,b.jsx)("div",{style:{backgroundColor:s},className:"jsx-".concat(H.__hash)+" preview-color"}),(0,b.jsxs)("div",{className:"jsx-".concat(H.__hash)+" color-picker__info",children:["#",(0,b.jsx)(M.Z,{value:s.replaceAll("#",""),name:"hex",onChange:function(e){var t=e.target,n=(t.name,t.value);o("#".concat(n)),6==n.length&&l(s)},size:"sm"})]})]}),(0,b.jsx)("canvas",{ref:c,onClick:function(e){if(c.current){var n=c.current,r=n.getContext("2d",{willReadFrequently:!0});if(r){var i=n.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top,d=r.getImageData(a,s,1,1).data,x="#"+(16777216+(d[0]<<16|d[1]<<8|d[2]<<0)).toString(16).slice(1);t||o(x),l(x)}}},className:"jsx-".concat(H.__hash)+" color-canvas"})]})]})};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W=function(){var e,t,n=(0,P.U2)(),r=(0,C.Z)(n,2),s=(r[0],r[1]),o=(0,a.useState)();o[0],o[1];var c=(0,a.useState)(!1),l=c[0],d=c[1],x=(0,a.useState)(),h=x[0],f=x[1],g=(0,a.useState)(),p=g[0],_=g[1],m=(0,a.useState)(!1),j=m[0],k=m[1],w=(0,Z.ko)("IHomeService"),y=function(e,t){_(function(){return p.map(function(n){return n.id_==e.id_&&(t&&(e.view="color"),n=e),n})})},N=function(e){_(p.map(function(t){return(null==t?void 0:t.id_)==e&&((null==t?void 0:t.view)==void 0?t.view="color":(null==t?void 0:t.view)!=void 0&&delete t.view),t}))},R=(null==p?void 0:p.filter(function(e){return e.is_on}))||[],T=function(e){if(0!==R.length){var t=((h?R.findIndex(function(e){return e.id_===h.id_}):-1)+1)%R.length,n=R[t];f(n),W("color",{id:n.id_,hex:e})}},H=function(){void 0===p&&L().then(function(){return s({active:!1})})},q=R&&R.map(function(e,t){var n=null!=e&&e.hex?"#".concat(function e(t){return""===t?"":e(t.substr(1))+t.charAt(0)}(e.hex.substring(1,e.hex.length))):"#ff3300";return{time:(t+1)*1e3,value:n,backgroundColor:n,onPoint:T}}),L=(e=(0,S.Z)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({active:!0,body:"loading lights",animation:!0}),e.prev=1,e.next=4,w.lights();case 4:_(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("[ FETCH LIGHTS (ERR) ]",JSON.stringify(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(){return e.apply(this,arguments)}),W=(t=(0,S.Z)(O().mark(function e(t,n){var r,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=function(e,t,n){s({active:e,body:"".concat(t,", ").concat(n," "),animation:!0})})(!0,t,n.name),i=function(){var e=(0,S.Z)(O().mark(function e(){var r,i,a,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="all-off"===e.t0?4:"all-on"===e.t0?8:"toggle"===e.t0?13:"brightness"===e.t0?19:"color"===e.t0?25:"all-color"===e.t0?32:39;break;case 4:return e.next=6,w.lightsOff();case 6:return r=e.sent,e.abrupt("break",41);case 8:return e.next=10,w.lightsOn();case 10:return console.log("all-on",r=e.sent),e.abrupt("break",41);case 13:if(!(null!=n&&n.id)){e.next=18;break}return e.next=16,w.lightToggle(n.id);case 16:y(r=e.sent);case 18:return e.abrupt("break",41);case 19:if(!(null!=n&&n.id&&(null==n?void 0:n.bri)!==void 0)){e.next=24;break}return e.next=22,w.lightBrightness(n.id,n.bri);case 22:y(r=e.sent);case 24:return e.abrupt("break",41);case 25:if(!(null!=n&&n.id&&null!=n&&n.hex)){e.next=31;break}return e.next=28,w.lightColor(n.id,n.hex);case 28:a=B((i=e.sent).hue,i.sat,i.bri),y(J(J({},i),{},{hex:a,isColor:!0}),!0);case 31:return e.abrupt("break",41);case 32:if(!(null!=n&&n.hex)){e.next=38;break}return s=p.map(function(e){if(e.is_on)return w.lightColor(e.id_,n.hex)}),e.next=36,Promise.all(s);case 36:e.sent.forEach(function(e){var t=B(e.hue,e.sat,e.bri);y(J(J({},e),{},{hex:t,isColor:!0}),!0)});case 38:return e.abrupt("break",41);case 39:return console.log("[multiHomeService] Action not recognized:",t),e.abrupt("return");case 41:r&&console.log("[multiHomeService] Success:",JSON.stringify(r)),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),console.log("[multiHomeService] Error:",JSON.stringify(e.t1));case 47:return e.abrupt("return");case 48:case"end":return e.stop()}},e,null,[[0,44]])}));return function(){return e.apply(this,arguments)}}(),e.next=5,i();case 5:r(!1,t,n.name);case 6:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return(0,a.useEffect)(function(){},[W]),(0,a.useEffect)(function(){H()},[h]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:E.__hash,children:E}),(0,b.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights",children:[(0,b.jsxs)(v.Z,{xs:2,lg:3,gap:15,children:[(0,b.jsx)(I.Z,{variant:l&&"primary",onClick:function(){return d(!l)},children:"start animation"}),(0,b.jsx)(I.Z,{variant:l&&"primary",onClick:function(){return!1==j&&k(J(J({},R[0]),{},{id_:"all-lights"}))},children:"Set All"})]}),(0,b.jsx)(D,{backgroundColors:["#ff3300","#00ff00","#ff0000"],atPoints:q,duration:1e4,start:l}),p&&!j&&(0,b.jsx)(v.Z,{xs:1,sm:2,md:2,lg:3,gap:15,children:Object.entries(p).map(function(e,t){var n=(0,C.Z)(e,2),r=(n[0],n[1]);return(0,b.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights__light",children:[(0,b.jsxs)("div",{className:"jsx-".concat(E.__hash)+" lights__light-header",children:[(0,b.jsx)("div",{className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:(0,b.jsx)(M.Z,{size:"sm",value:r.name,disabled:!0,label:"name"})}),(0,b.jsx)("div",{onClick:function(){return W("toggle",{id:r.id_})},className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:(0,b.jsx)(F.Z,{name:null==r?void 0:r.id_,value:null==r?void 0:r.is_on})}),(0,b.jsx)("div",{onClick:function(){return N(r.id_)},className:"jsx-".concat(E.__hash)+" lights__light-header--action",children:(0,b.jsx)(u.a,{icon:"fa-palette"})})]}),(null==r?void 0:r.view)!=="color"?(0,b.jsx)(z.Z,{onChange:function(e){0!=String(e).length&&e&&W("brightness",{id:r.id_,bri:e,name:r.name})},barCount:5,percentage:(null==r?void 0:r.bri)*100/254}):(0,b.jsx)(A,{hex:r.hex,onChange:function(e){return W("color",{id:r.id_,hex:e,name:r.name})}})]},t)})}),"object"==typeof j&&(0,b.jsx)(z.Z,{onChange:function(e){0!=String(e).length&&e&&(String(e).startsWith("#")?W("color",{id:j.id_,hex:e}):W("brightness",{id:j.id_,bri:e}))},barCount:5,percentage:(null==j?void 0:j.bri)*100/254})]})]})},G=n(34485),U=function(e){e.vid;var t=(0,k.a)(),n={home:(0,b.jsx)(function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:s.__hash,children:s}),(0,b.jsx)("div",{className:"jsx-".concat(s.__hash)+" home__default",children:(0,b.jsxs)("div",{className:"jsx-".concat(s.__hash)+" home__default--title",children:[t&&(null==t?void 0:t.name)&&(0,G.Z)(t.name)||"",", Home Automation."]})})]})},{}),surveillance:(0,b.jsx)(w,{}),lights:(0,b.jsx)(W,{})};return t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i(),{id:s.__hash,children:s}),(0,b.jsx)(y.Z,{variant:"fullwidth",title:"home",defaultView:"home",views:n})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Z,{})})}},73242:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(8151),i=n.n(r),a=n(67294),s=[".d-flex.jsx-2653656225,.bar.jsx-2653656225 .bar__container.jsx-2653656225 .bar__bars-container.jsx-2653656225 .bar__percentage.jsx-2653656225,.bar.jsx-2653656225 .bar__container.jsx-2653656225 .bars__icon.jsx-2653656225,.bar.jsx-2653656225 .bar__container.jsx-2653656225 .bar__header.jsx-2653656225{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".bar.jsx-2653656225{width:100%;}",".bar.jsx-2653656225 .bar__container.jsx-2653656225:hover .bar__bars-container.jsx-2653656225 .bar__percentage.jsx-2653656225{color:var(--white);text-shadow:#f30 1px 0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:visible;}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bar__header.jsx-2653656225{overflow:hidden;min-height:var(--element-height);white-space:nowrap;position:relative;line-height:1;}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bars__icon.jsx-2653656225{height:var(--element-height);padding-top:20px;--ui-icon-color:var(--gray-60);padding:30px 0 20px;}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bars__status.jsx-2653656225{position:absolute;right:var(--s-9);top:4px;text-transform:capitalize;font-size:var(--s-7);color:var(--yellow-opaque);--ui-icon-width:var(--s-6);}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bars__status.jsx-2653656225 .bars__status-low.jsx-2653656225{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:5px;}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bar__bars-container.jsx-2653656225{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;gap:var(--border-radius);overflow:hidden;border-radius:var(--border-radius);}",".bar.jsx-2653656225 .bar__container.jsx-2653656225 .bar__bars-container.jsx-2653656225 .bar__percentage.jsx-2653656225{font-size:var(--s-1);visibility:hidden;position:absolute;top:0;bottom:0;width:100%;height:100%;text-align:center;color:var(--gray-20-opaque);}",".bar__bars-content.jsx-2653656225{box-shadow:inset 0 0 4px 2px var(--gray-100-opaque);border:solid 1px var(--gray-70);overflow:hidden;border-radius:var(--border-radius);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);height:var(--element-height);background-color:var(--gray-70-opaque);}",".bar__bars-content.jsx-2653656225 .bar__bars-bar-partial.jsx-2653656225{border-top:solid 1px var(--gray-70);}",".bar__bars-content.jsx-2653656225 .bar__bars-bar-filled.jsx-2653656225,.bar__bars-content.jsx-2653656225 .bar__bars-bar-partial.jsx-2653656225{height:100%;background-color:var(--bar-background,var(--yellow));}",".bar__timestamp.jsx-2653656225{width:100%;font-size:var(--s-9);padding-bottom:var(--s-9);line-height:1;color:var(--gray-50);white-space:nowrap;text-align:right;}"];s.__hash="2653656225";var o=n(68737),c=n(981),l=n(40384),d=n(96486),x=n(85893),h=function(e){var t=e.barCount,n=e.percentage,r=e.icon,h=e.status,u=e.timestamp,f=e.header,b=e.onChange,g=(0,a.useState)(n),p=g[0],_=g[1],m=(0,a.useRef)(null),j=(0,a.useRef)((0,d.debounce)(function(e){b&&b(e)},1e3)).current,v=function(e){if(console.log("[ e ]",e),m.current){var t=m.current.getBoundingClientRect(),n=Math.max(0,Math.min(100-(e.clientY-t.top)/t.height*100,100));_(n),j(n.toFixed(0))}};return(0,a.useEffect)(function(){_(n)},[n]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:s.__hash,children:s}),(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bar",children:[u&&(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" bar__timestamp",children:(0,c.vc)(u,{time:!0})}),(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bar__container",children:[f&&(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bar__header",children:[f,r&&(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" bars__icon",children:(0,x.jsx)(o.a,{icon:r})}),h&&(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" bars__status",children:["STATUS_LOW","low","high"].includes(h)&&(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" bars__status-low",children:[(0,x.jsx)(o.a,{color:"#f90",icon:"fa-exclamation-triangle"}),(0,l.Z)(h)]})})]}),(0,x.jsxs)("div",{ref:m,onMouseDown:function(e){return v(e)},onMouseMove:function(e){return 1===e.buttons&&v(e)},className:"jsx-".concat(s.__hash)+" bar__bars-container",children:[function(){for(var e=[],n={filledBar:"bar__bars-bar-filled",emptyBar:"bar__bars-bar-empty",partialBar:"bar__bars-bar-partial"},r=0;r<t;r++){var a=void 0,o={};r<Math.floor(p*t/100)?a=n.filledBar:r===Math.floor(p*t/100)?(o.height="".concat(p*t%100,"%"),a=n.partialBar):(delete o.height,a=n.emptyBar),e.push((0,x.jsxs)("span",{className:"jsx-".concat(s.__hash),children:[(0,x.jsx)(i(),{id:s.__hash,children:s}),(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" bar__bars-content",children:(0,x.jsx)("div",{style:o,className:"jsx-".concat(s.__hash)+" "+"bar__bars-bar ".concat(a)})})]},r))}return e}(),(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" bar__percentage",children:(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash),children:[p.toString().split(".")[0],"%"]})})]})]})]})]})}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{2420:function(e,t,n){"use strict";n.d(t,{Z:function(){return home_controller_Home}});var i=n(5003),r=n.n(i),o=n(7294),s=[];s.__hash="2085888330";var a=[".surveillance.jsx-3472433715{min-height:500px;width:100%;}"];a.__hash="3472433715";var c=n(9499),l=["img.jsx-3422516844{width:100%;height:auto;z-index:1;position:relative;}","img.jsx-3422516844 .d-flex.jsx-3422516844,img.jsx-3422516844 img.jsx-3422516844{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];l.__hash="3422516844";var d=[".d-flex.jsx-2678087171,.image-control.jsx-2678087171 .image-control__controls.jsx-2678087171{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".image-control.jsx-2678087171{width:auto;position:relative;height:auto;overflow:hidden;outline:solid 1px var(--gray-80);}","@media (max-width:900px){.image-control.jsx-2678087171{max-width:calc(100vw - var(--padding) * 2);}}",".image-control.jsx-2678087171:hover .image-control__controls.jsx-2678087171{bottom:0;opacity:1;}",".image-control.jsx-2678087171 .image-control__element.jsx-2678087171{background-color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:auto;z-index:-1;}",".image-control.jsx-2678087171 .image-control__controls.jsx-2678087171{background-color:var(--gray-100);z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:absolute;bottom:-100%;padding:0 var(--s-9);width:calc(100% - var(--s-9) * 2);left:0;height:var(--element-height);opacity:0;-webkit-transition:bottom 0.5s ease,opacity 0.5s ease;transition:bottom 0.5s ease,opacity 0.5s ease;}",".image-control.jsx-2678087171 .image-control__controls__control.jsx-2678087171{cursor:pointer;}",".image-control.jsx-2678087171 .image-control__controls__control.jsx-2678087171:hover{--ui-icon-color:var(--primary);}"];d.__hash="2678087171";var h=n(682),x=n(9817),_=n(2881),u=n(9073),m=n(5893),components_ImageControl_ImageControl=function ImageControl(e){var t=e.children,n=e.variant,i=e.mediaType,s=void 0===i?"image":i,a=e.refreshInterval,c=void 0===a?1e3:a,l=e.error,f=e.fixedLoad,g=(0,o.useRef)(null),p=(0,o.useState)(!0),j=p[0],b=p[1],v=(0,x.Z)("image-control__element",s,n),w=(0,u.dd)(),y=w.openModal,k=w.closeModal,O=w.isModalOpen;return(0,o.useEffect)(function(){var e=setInterval(function(){var e,t=null==g?void 0:null===(e=g.current)||void 0===e?void 0:e.offsetHeight;g.current&&t&&t>30?b(!1):l&&!j&&b(!0)},c);return function(){return clearInterval(e)}},[c,j,g.current]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:d.__hash,children:d}),(0,m.jsxs)("div",{className:"jsx-".concat(d.__hash)+" "+"image-control".concat(j?" image-control__loading":""),children:[" ",!0==j&&(0,m.jsx)(h.Z,{height:300,position:void 0!==f&&f?void 0:"relative",text:l||void 0,dots:"string"!=typeof l&&void 0}),(0,m.jsx)("div",{id:"image-control__element",ref:g,className:"jsx-".concat(d.__hash)+" "+"".concat(v),children:o.Children.map(t,function(e){return(0,o.isValidElement)(e)?(0,o.cloneElement)(e):e})}),(0,m.jsxs)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls",children:[(0,m.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,m.jsx)(_.a,{icon:"fa-play-pause"})}),(0,m.jsx)("div",{className:"jsx-".concat(d.__hash)+" image-control__controls__control",children:(0,m.jsx)(_.a,{icon:"fa-expand",onClick:function(){O?k():y({children:(0,m.jsx)(ImageControl,{fixedLoad:!0,variant:n,mediaType:s,refreshInterval:c,error:l,children:t}),variant:"fullscreen"})}})})]})]})]})};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var UiVideo_controller_UiMedia=function(e){var t=e.src,n=e.variant,i=e.type,s=e.alt,a=(0,o.useState)({variant:n,type:i}),c=a[0],d=a[1],handleError=function(e){e.preventDefault(),c.error||d(_objectSpread(_objectSpread({},c),{},{error:"failed to load media"}))};return(0,o.useEffect)(function(){},[handleError]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:l.__hash,children:l}),(0,m.jsx)(components_ImageControl_ImageControl,_objectSpread(_objectSpread({},c),{},{children:!c.error&&(0,m.jsx)("img",{src:t,alt:s,onError:handleError,className:"jsx-".concat(l.__hash)})}))]})},f=n(8991),g=n(7011),surveillance_controller_Surveillance=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:a.__hash,children:a}),(0,m.jsx)("div",{className:"jsx-".concat(a.__hash)+" surveillance",children:(0,m.jsxs)(g.Z,{xs:1,md:2,padding:"0 0 200px",children:[(0,m.jsx)(UiVideo_controller_UiMedia,{src:"".concat(f.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=2")}),(0,m.jsx)(UiVideo_controller_UiMedia,{src:"".concat(f.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=3")}),(0,m.jsx)(UiVideo_controller_UiMedia,{src:"".concat(f.Z.serviceEndpoints.membership,"/api/stream/rtsp/?id=1")})]})})]})},p=n(5960),j=n(29),b=n(6835),v=n(7794),w=n.n(v),y=[".d-flex.jsx-3938455136,.lights__light-header.jsx-3938455136,.lights__light.jsx-3938455136{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".lights.jsx-3938455136{width:100%;}",".lights__light.jsx-3938455136{overflow:hidden;}",".lights__light-header.jsx-3938455136{width:100%;text-transform:capitalize;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;border-radius:var(--border-radius);background-color:var(--gray-80);}"];y.__hash="3938455136";var k=n(9280),O=n(7979),E=n(1626),N=n(483),views_lights_Lights=function(){var e,t=(0,O.U2)(),n=(0,b.Z)(t,2),i=(n[0],n[1]),s=(0,o.useState)(null),a=s[0],c=s[1],l=(0,k.ko)("IHomeService"),d=(e=(0,j.Z)(w().mark(function _callee(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i({active:!0,body:"loading lights"}),e.prev=1,e.next=4,l.lights();case 4:c(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(JSON.stringify(e.t0));case 11:case"end":return e.stop()}},_callee,null,[[1,8]])})),function(){return e.apply(this,arguments)});return(0,o.useEffect)(function(){a||d().then(function(){return i({active:!1})})},[c]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:y.__hash,children:y}),(0,m.jsxs)("div",{className:"jsx-".concat(y.__hash)+" lights",children:[(0,m.jsx)("h1",{className:"jsx-".concat(y.__hash),children:"lights"}),a&&(0,m.jsx)(g.Z,{xs:2,sm:3,md:4,gap:15,children:Object.entries(a).map(function(e,t){var n=(0,b.Z)(e,2),i=(n[0],n[1]);return(0,m.jsx)("div",{className:"jsx-".concat(y.__hash)+" lights__light",children:(0,m.jsx)(E.Z,{header:(0,m.jsxs)(m.Fragment,{children:[null==i?void 0:i.name,(0,m.jsx)(_.a,{icon:null!=i&&i.is_on?"fa-lightbulb-on":"fa-lightbulb-slash"}),(0,m.jsx)(N.Z,{name:null==i?void 0:i.id_,onChange:console.log})]}),onChange:console.log,background:{start:"fffffff",end:"e0e0e0"},barCount:5,percentage:100*i.bri/254})},t)})})]})]})},home_controller_Home=function(){var e={surveillance:(0,m.jsx)(surveillance_controller_Surveillance,{}),lights:(0,m.jsx)(views_lights_Lights,{})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:s.__hash,children:s}),(0,m.jsx)(p.Z,{variant:"flat",title:"home",defaultView:"lights",views:e})]})}},2240:function(e,t,n){"use strict";n.r(t);var i=n(2420);t.default=i.Z},7183:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(2240)}])}},function(e){e.O(0,[779,774,888,179],function(){return e(e.s=7183)}),_N_E=e.O()}]);
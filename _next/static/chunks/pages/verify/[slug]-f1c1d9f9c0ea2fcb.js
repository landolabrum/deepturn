(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[338],{64891:function(e,i,t){"use strict";t.d(i,{Z:function(){return k}});var n=t(8151),r=t.n(n),a=t(67294),s=[".d-flex.jsx-2290089227,.verify__default.jsx-2290089227,.loadslider.jsx-2290089227{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loadslider.jsx-2290089227{min-height:100px;min-width:100%;background-size:200% 100%;}","@-webkit-keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}","@keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}",".verify.jsx-2290089227{color:var(--white);width:var(--padding-width);margin:var(--padding);}",".verify--header.jsx-2290089227{color:var(--gray-40);width:var(--padding-width);max-width:var(--padding-width);overflow:hidden;padding:var(--padding) 0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;text-overflow:ellipsis;}",".verify--header--title.jsx-2290089227{color:var(--gray-50);font-size:var(--s-3);}",".verify__default.jsx-2290089227{background-color:var(--gray-80);min-height:50vh;color:var(--gray-40);line-height:1;padding:var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--padding);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;border-radius:var(--border-radius);border:solid 1px var(--gray-60);box-shadow:var(--box-shadow-xl);}",".verify__default.jsx-2290089227 h1.jsx-2290089227,.verify__default.jsx-2290089227 p.jsx-2290089227{line-height:1;margin:0;}",".verify__default.jsx-2290089227 p.jsx-2290089227{color:var(--gray-50);}"];s.__hash="2290089227";var l=t(11163),o=t(59499),c=t(50029),d=t(64687),f=t.n(d),u=[".d-flex.jsx-2012122347,.verify-email__content--loader.jsx-2012122347,.verify-email__content.jsx-2012122347,.verify-email.jsx-2012122347{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".verify-email.jsx-2012122347{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border-radius:var(--border-radius);margin:var(--element-height) 0;color:var(--gray-70);background-color:var(--gray-80);min-height:500px;}","@media (max-width:1100px){.verify-email.jsx-2012122347{margin:var(--element-height) var(--padding);width:var(--padding-width);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".verify-email__content.jsx-2012122347{margin:var(--padding);width:var(--padding-width);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}",".verify-email__content--loader.jsx-2012122347{height:100%;}","@media (max-width:1100px){.verify-email__content--loader.jsx-2012122347{height:100%;}}",".verify-email__content__sign-in.jsx-2012122347{width:100%;}",".verify-email__content__sign-in--title.jsx-2012122347{font-size:var(--s-2);color:var(--gray-20);line-height:2;}"];u.__hash="2012122347";var x=t(52553),v=t(5531),g=t(40384),m=t(2612),h=t(72967),p=t(18508),_=t(99013),w=t(85893);function y(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?y(Object(t),!0).forEach(function(i){(0,o.Z)(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}var j=function(e){var i,t,n,s,l,o,d=e.token,h=e.onSuccess,y=(0,a.useState)({status:"verifying_email"}),j=y[0],k=y[1],O=(0,x.ko)("IMemberService");(0,_.dd)().openModal;var S=(i=(0,c.Z)(f().mark(function e(){var i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return k({status:"no_token_present"}),e.abrupt("return");case 3:return e.next=5,O.verifyEmail(String(d));case 5:(i=e.sent)&&k(i);case 7:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),N=(t=(0,c.Z)(f().mark(function e(){var i,t,n,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null==j||null===(i=j.fields)||void 0===i||null===(i=i.find(function(e){return"password"==e.name}))||void 0===i?void 0:i.value,(n=j.customer).metadata.password=t,e.next=5,O.updateMember(n.id,n);case 5:(r=e.sent)&&h(r.email);case 7:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,a.useEffect)(function(){S()},[d]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r(),{id:u.__hash,children:u}),(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email",children:(0,w.jsxs)("div",{className:"jsx-".concat(u.__hash)+" "+"verify-email__content".concat("verification_success"===j.status?" verify-email__content--success":""),children:[(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content--loader",children:(0,w.jsx)(v.Z,{position:"relative",text:(l="",(o=function(e){return"string"==typeof e})(j.status)?l=String(j.status):o(j.detail)?l=String(j.detail):null!==(n=j.detail)&&void 0!==n&&n.detail&&o(null===(s=j.detail)||void 0===s?void 0:s.detail)&&(l=j.detail.detail),(0,g.Z)(l)),dots:(null==j?void 0:j.status)!=void 0&&["verifying_email"].includes(null==j?void 0:j.status)})}),"incomplete"==j.status&&(null==j?void 0:j.fields)&&(0,w.jsx)(m.Z,{title:String(null==j?void 0:j.detail)||void 0,onChange:function(e){var i,t,n=e.target,r=n.name,a=n.value,s=null==j?void 0:j.fields,l=function(e){return null==s?void 0:s.find(function(i){return i.name===e})},o=null===(i=l("password"))||void 0===i?void 0:i.value,c=null===(t=l("confirm_password"))||void 0===t?void 0:t.value,d=null==s?void 0:s.map(function(e){if(e.name===r){var i=b(b({},e),{},{value:a});return"confirm_password"===r&&o!==a&&""!==o||"password"===r&&c!==a&&""!==c?i.error="Not Same as Password":i.error&&delete i.error,i}return e});k(b(b({},j),{},{fields:d}))},fields:j.fields,onSubmit:N}),"verification_success"===j.status&&j.customer.email&&(0,w.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content__sign-in",children:(0,w.jsx)(p.Z,{href:"/account",children:"Go to Account"})})]})})]})};t(68737),t(6515);var k=function(){var e=(0,l.useRouter)(),i=(e.pathname,e.query),t=(0,a.useState)(""),n=t[0],o=t[1],c=(0,a.useState)(),d=c[0],f=c[1],u=(0,a.useState)(),x=u[0],v=u[1];return(0,a.useEffect)(function(){"string"==typeof i.vid&&o(i.vid),"string"==typeof i.token&&f(i.token),x&&o("sign-in")},[i,x]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r(),{id:s.__hash,children:s}),(0,w.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify",children:["sign-in"==n&&(0,w.jsx)(h.Z,{email:x}),"email"==n&&(0,w.jsx)(j,{token:d,onSuccess:function(e){return v(e)}}),!["email","sign-in"].includes(n)&&(0,w.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify__default",children:[(0,w.jsx)("h1",{className:"jsx-".concat(s.__hash),children:"Verify"}),(0,w.jsx)("p",{className:"jsx-".concat(s.__hash),children:"Here is where you will verify a token in which you should have recieved via a specified contact method."})]})]})]})}},9018:function(e,i,t){"use strict";t.r(i);var n=t(64891);i.default=n.Z},81457:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/[slug]",function(){return t(9018)}])}},function(e){e.O(0,[888,774,179],function(){return e(e.s=81457)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{17656:function(e,t,n){"use strict";var a=n(50029),c=n(59499),s=n(16835),r=n(64687),i=n.n(r),o=n(67294),l=n(52553),d=n(3749),u=n(2612),x=n(981),m=n(67298),h=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t,n=e.user;e.open;var c=(0,l.ko)("IMemberService"),r=(0,d.lm)(),f=(0,s.Z)(r,2),p=(f[0],f[1]),v=(0,o.useState)(!1),j=v[0],b=v[1],g=[{name:"first_name",label:"first name",required:!0},{name:"last_name",label:"last name",required:!0},{name:"email",label:"email",required:!0},{name:"phone",label:"phone",required:!0,constraints:{min:1,max:9}},{name:"address",label:"address",required:!0}],w=(0,o.useState)(g),y=w[0],k=w[1],N=function(){var e=g.map(function(e){return e.name}),t=function(){if(!n)return[];n.phone&&(n.phone=(0,x.wW)(n.phone));var t=n.name.split(" "),a=_(_({},n),{},{first_name:t[0],last_name:t[1]||""});return delete a.name,g.map(function(t){return t.name&&e.includes(t.name)?_(_({},t),{},{value:a[t.name]||t.value}):t})}();t.length&&k(t)},S=(t=(0,a.Z)(i().mark(function e(t){var a,s,r,o,l;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),r=!!((null==(s=(a=function(e){var t;return null===(t=y.find(function(t){return t.name==e}))||void 0===t?void 0:t.value})("address"))?void 0:s.lat)&&(null==s?void 0:s.lng))&&{"address.lat":s.lat,"address.lng":s.lng},null!=s&&s.lat,null!=s&&s.lng&&(null==s||delete s.lat,null==s||delete s.lng),console.log("[ request ]",o=_(_({name:"".concat(a("first_name")," ").concat(a("last_name")),email:a("email"),phone:(0,x.wW)(String(a("phone")),"US",!0)},s),{},{metadata:r})),e.prev=7,e.next=10,c.updateMember(n.id,o);case 10:"customer"==(l=e.sent).object&&p({active:!0,list:[{label:"success",message:(0,h.jsx)(m.Z,{text:"Updated Member: *".concat(null==l?void 0:l.name,"*")})}]}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("[ EROR ]",e.t0);case 17:b(!1);case 18:case"end":return e.stop()}},e,null,[[7,14]])})),function(e){return t.apply(this,arguments)});return(0,o.useEffect)(function(){n&&JSON.stringify(y)===JSON.stringify(g)&&N()},[n,k]),(0,h.jsx)(u.Z,{fields:y,onChange:function(e){var t=e.target,n=t.name,a=t.value;k(function(e){return e.map(function(e){return e.name===n?_(_({},e),{},{value:a}):e})})},onSubmit:S,loading:j})}},37802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ea}});var a=n(59499),c=n(77191),s=n(8151),r=n.n(s),i=[".d-grid.jsx-2070031882,.account.jsx-2070031882{display:grid;grid-template-columns:1fr 2fr;grid-template-rows:1fr;grid-column-gap:5px;grid-row-gap:0px;gap:10px;}",".account.jsx-2070031882{width:100%;position:relative;}","@media (max-width:900px){.account.jsx-2070031882{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}",".account.jsx-2070031882 .account__view.jsx-2070031882{background-color:var(--gray-50);border-radius:var(--border-radius);width:calc(100% - var(--s-6) * 2);padding:var(--s-7);}",".account.jsx-2070031882 .account__view.jsx-2070031882 .account__view__title.jsx-2070031882{text-transform:uppercase;-webkit-letter-spacing:var(--s-9);-moz-letter-spacing:var(--s-9);-ms-letter-spacing:var(--s-9);letter-spacing:var(--s-9);font-weight:900;font-size:var(--s-1);line-height:1.5;margin-bottom:var(--s-9);color:var(--gray-20);}"];i.__hash="2070031882";var o=n(50029),l=n(16835),d=n(64687),u=n.n(d),x=n(67294),m=[".d-flex.jsx-1849148325,.account-methods.jsx-1849148325 .account-methods__existing.jsx-1849148325 .account-methods__list.jsx-1849148325,.account-methods.jsx-1849148325 .account-methods__existing.jsx-1849148325{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".brdr.jsx-1849148325{border:solid 1px var(--gray-80);outline:solid 1px var(--gray-60);}",".body.jsx-1849148325{padding:0 var(--padding);}",".account-methods.jsx-1849148325{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);width:100%;}",".account-methods.jsx-1849148325 .account-methods__existing.jsx-1849148325{box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);padding:var(--padding);background-color:var(--gray-80);border-radius:var(--border-radius);border:solid 1px var(--gray-70);}",".account-methods.jsx-1849148325 .account-methods__existing--title.jsx-1849148325{width:100%;font-size:var(--s-3);text-transform:capitalize;color:var(--gray-40);}",".account-methods.jsx-1849148325 .account-methods__existing.jsx-1849148325 .account-methods__list.jsx-1849148325{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-7);}",".account-methods.jsx-1849148325 .account-methods__existing.jsx-1849148325 .account-methods__list.jsx-1849148325 .account-methods__list-item.jsx-1849148325{width:100%;min-height:var(--element-height);}"];m.__hash="1849148325";var h=n(52553),f=n(49263),_=["@-webkit-keyframes tease-jsx-2233022748{0%{width:calc(100% - 36px);}40%{width:calc(100% - 36px - var(--s-3));}50%{width:calc(100% - 36px - var(--s-4));}70%{width:calc(100% - 36px - var(--s-3));}100%{width:calc(100% - 36px - var(--s-3));}}","@keyframes tease-jsx-2233022748{0%{width:calc(100% - 36px);}40%{width:calc(100% - 36px - var(--s-3));}50%{width:calc(100% - 36px - var(--s-4));}70%{width:calc(100% - 36px - var(--s-3));}100%{width:calc(100% - 36px - var(--s-3));}}","@-webkit-keyframes show-jsx-2233022748{0%{width:calc(100% - 36px);}100%{width:calc(100% - 140px);}}","@keyframes show-jsx-2233022748{0%{width:calc(100% - 36px);}100%{width:calc(100% - 140px);}}","@-webkit-keyframes hide-jsx-2233022748{0%{width:calc(100% - 140px);}100%{width:calc(100% - 36px);}}","@keyframes hide-jsx-2233022748{0%{width:calc(100% - 140px);}100%{width:calc(100% - 36px);}}",".d-flex.jsx-2233022748,.account-current-method__response.jsx-2233022748,.account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748 .account-current-method__set-default.jsx-2233022748:hover.jsx-2233022748::after,.account-current-method__content.jsx-2233022748 .account-current-method__exp.jsx-2233022748,.account-current-method__content.jsx-2233022748 .account-current-method__info.jsx-2233022748,.account-current-method__content.jsx-2233022748,.account-current-method.jsx-2233022748{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".account-current-method.jsx-2233022748{cursor:pointer;background-color:var(--primary-opaque);color:var(--gray-90);position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;--ui-icon-color:var(--gray-20);width:100%;border-radius:var(--border-radius);border:solid 1px var(--gray-60);overflow:hidden;}",".account-current-method__content.jsx-2233022748{--ui-icon-color:var(--gray-40);color:var(--gray-40);background-color:var(--gray-90);border-right:solid 5px var(--gray-50);height:var(--element-height);border-radius:var(--border-radius) 0 0 var(--border-radius);width:calc(100% - 36px);padding:0 18px;line-height:1;font-size:var(--s-5);-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-animation-play-state:paused;animation-play-state:paused;}","@media (max-width:900px){.account-current-method__content.jsx-2233022748{font-size:var(--s-6);}}",".account-current-method__content.account-current-method__content-show.jsx-2233022748{-webkit-animation:show-jsx-2233022748 1s forwards;animation:show-jsx-2233022748 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;}",".account-current-method__content.account-current-method__content-hide.jsx-2233022748{-webkit-animation:hide-jsx-2233022748 1s forwards;animation:hide-jsx-2233022748 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;}",".account-current-method__content.account-current-method__content__hoverable.jsx-2233022748:hover{-webkit-animation:tease-jsx-2233022748 1s forwards;animation:tease-jsx-2233022748 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;color:var(--gray-10);--ui-icon-color:var(--gray-10);}",".account-current-method__content.jsx-2233022748:active{background-color:var(--primary);}",".account-current-method__content.jsx-2233022748 .account-current-method__info.jsx-2233022748{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:18px;--ui-icon-size:var(--s-2);-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;}","@media (max-width:900px){.account-current-method__content.jsx-2233022748 .account-current-method__info.jsx-2233022748{--ui-icon-size:var(--s-5);}}",".account-current-method__content.jsx-2233022748 .account-current-method__info.jsx-2233022748 .account-current-method__default.jsx-2233022748{position:relative;}",'.account-current-method__content.jsx-2233022748 .account-current-method__info.jsx-2233022748 .account-current-method__default.jsx-2233022748::after{top:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);padding:4px 7px;line-height:1;font-weight:900;color:var(--gray-20);background-color:var(--primary-opaque);font-style:italic;left:0;position:absolute;font-size:var(--s-8);border-radius:var(--s-9);border:solid 2px var(--gray-20);content:"DEFAULT";}',".account-current-method__content.jsx-2233022748 .account-current-method__exp.jsx-2233022748{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:var(--element-height);right:0;top:0;bottom:0;z-index:1;}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748>div.jsx-2233022748{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;aspect-ratio:1/1;}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748 .account-current-method__set-default.jsx-2233022748{position:relative;overflow:visible;--ui-icon-color:var(--primary-opaque);}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748 .account-current-method__set-default.jsx-2233022748:hover{background-color:var(--white);z-index:999;}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748 .account-current-method__set-default.jsx-2233022748:hover.jsx-2233022748::after{left:0;text-align:center;background-color:var(--gray-30-opaque);color:var(--gray-90);content:attr(data-default);font-size:var(--s-8);aspect-ratio:1/1;width:var(--element-height);padding:2px;position:absolute;}",".account-current-method.jsx-2233022748 .account-current-method__behind.jsx-2233022748 .account-current-method__delete.jsx-2233022748:hover{background-color:var(--red);}",".account-current-method__response.jsx-2233022748{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:0 10px;height:var(--element-height);color:var(--primary);background-color:var(--gray-60);}",".account-current-method__response.account-current-method__response-error.jsx-2233022748{color:var(--orange);}"];_.__hash="2233022748";var p=n(68737),v=n(3749),j=n(85893),b=function(e){var t,n,a=e.method,c=e.onDeleteSuccess,s=e.response,i=e.default_payment_method,d=(0,h.ko)("IMemberService"),m=1==String(a.card.exp_month).length?"0".concat(a.card.exp_month):a.card.exp_month,f=(0,x.useState)(0),b=f[0],g=f[1],w=(0,x.useState)(""),y=w[0],k=w[1],N=(0,v.lm)(),S=(0,l.Z)(N,2),O=(S[0],S[1]),Z=(t=(0,o.Z)(u().mark(function e(t){var n,a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(3),O({active:!0,list:[{label:"deleting payment method"}]}),e.next=4,d.deleteMethod(t);case 4:O({active:!0,persistance:3e3,list:[{label:"payment method"},{label:a=(n=e.sent).message?n.message:"*".concat(n.message)}]}),g(0),c(a);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),z=(n=(0,o.Z)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(4),e.prev=1,e.next=4,d.toggleDefaultPaymentMethod(t);case 4:D(e.sent.message.includes("removed")?8:7),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("[ SET DEFAULT METHOD ( ERROR ) ]",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return n.apply(this,arguments)}),D=function(e){var t=e;switch("number"!=typeof t&&(t=b),console.log("[ TARGET ]",t),t){case 0:g(b+1),k("account-current-method__content-show");break;case 1:g(b+1),k("account-current-method__content-hide");break;case 2:k("account-current-method__content-show"),g(1);break;case 3:Z(a.id);break;case 4:z(a.id);break;case 5:O({active:!0,list:[{label:"Method is already default payment method, please select another."}]}),k("account-current-method__content-hide"),g(0);break;case 7:O({active:!0,list:[{label:"Method set as default"}]}),g(0);case 8:O({active:!0,list:[{label:"Method removed as default"}]}),g(0)}};return(0,x.useEffect)(function(){},[D]),(0,x.useEffect)(function(){s&&""!=s&&O({active:!0,list:[{label:s}]})},[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:_.__hash,children:_}),(0,j.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method",children:[(0,j.jsxs)("div",{onClick:function(){return D()},className:"jsx-".concat(_.__hash)+" "+"account-current-method__content".concat([0].includes(b)?" account-current-method__content__hoverable ":" "," ").concat(y),children:[(0,j.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__info",children:[(0,j.jsx)(p.a,{icon:a.card.brand}),"**** **** **** ".concat(a.card.last4),a.id==i&&(0,j.jsx)("span",{className:"jsx-".concat(_.__hash)+" account-current-method__default"})]}),(0,j.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__exp",children:[m," / ",a.card.exp_year]})]}),(0,j.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__behind",children:[(0,j.jsx)("div",{"data-default":"".concat(a.id==i?"remove":"set"," default"),onClick:function(){return D(4)},className:"jsx-".concat(_.__hash)+" account-current-method__set-default",children:(0,j.jsx)(p.a,{icon:4==b?"spinner":a.id==i?"fa-star":"fal-star"})}),(0,j.jsx)("div",{onClick:function(){return D(3)},className:"jsx-".concat(_.__hash)+" account-current-method__delete",children:(0,j.jsx)(p.a,{icon:3==b?"spinner":"fa-trash-can"})})]})]})]})},g=n(57950),w=n(26913),y=n(86664),k=[".d-flex.jsx-2307496356,.account-create-method__content.jsx-2307496356{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".account-create-method.jsx-2307496356{width:100%;}",".account-create-method__content.jsx-2307496356{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:var(--element-height);border-radius:var(--border-radius);background-color:var(--gray-80);padding:calc(var(--element-height) * 1.5) var(--s-5) var(--s-5);position:relative;border:solid 1px var(--gray-60);}",'.account-create-method__content.jsx-2307496356 #payment-element.jsx-2307496356::before{position:absolute;top:var(--s-9);font-size:var(--s-3);text-transform:capitalize;color:var(--gray-50);content:"add method";}',".account-create-method__content__submit.jsx-2307496356{margin:0;width:100%;}"];k.__hash="2307496356";var N=n(18508),S=n(6515),O=function(e){var t,n=e.onSuccess,a=e.user,c=e.shippable,s=(0,y.useStripe)(),i=(0,y.useElements)(),l={layout:{type:"tabs",defaultCollapsed:!1,radios:!1,spacedAccordionItems:!0}},d=(0,x.useCallback)((t=(0,o.Z)(u().mark(function e(t){var r,o,l;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={return_url:"".concat(S.Z.site.url,"/account?vid=billing+info")},c&&(null==a?void 0:a.address)!=void 0&&(r.shipping={name:(null==a?void 0:a.name)||"no-name",address:a.address}),e.prev=4,e.next=7,null==s?void 0:s.confirmSetup({elements:i,confirmParams:r});case 7:console.log("[ RESULT ]",o=e.sent),o.error?console.log("[ Create Method ]( ERROR )",o.error.message):(l=o.paymentIntent)&&"succeeded"===l.status&&n&&n(l),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),alert(JSON.stringify(e.t0));case 15:case"end":return e.stop()}},e,null,[[4,12]])})),function(e){return t.apply(this,arguments)}),[i]),m=(null==i?void 0:i.getElement("payment"))||!1;return(0,x.useEffect)(function(){i&&!m&&i.create("payment",l).mount("#payment-element")},[s,i]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:k.__hash,children:k}),(0,j.jsx)("form",{onSubmit:d,className:"jsx-".concat(k.__hash)+" account-create-method",children:(0,j.jsxs)("div",{className:"jsx-".concat(k.__hash)+" account-create-method__content",children:[(0,j.jsx)("div",{id:"payment-element",className:"jsx-".concat(k.__hash)}),(0,j.jsx)("div",{className:"jsx-".concat(k.__hash)+" account-create-method__submit",children:(0,j.jsx)(N.Z,{type:"submit",variant:m?"primary":"disabled",children:"Add Payment Method"})})]})})]})},Z=n(54465),z=String("pk_live_qBiVh0MkAYVU7o3oVmP1Tzg900DLvxesSw".trim()),D=(0,Z.J)(z),E=function(e){var t=e.clientSecret,n=e.onSuccess,a=(0,f.a)();return null!=a&&a.id&&t?(0,j.jsx)(y.Elements,{stripe:D,options:{clientSecret:t,appearance:{theme:"night",variables:{colorPrimary:"#1e88e5",colorBackground:"#262626",colorText:"#e0e0e0"}}},children:(0,j.jsx)(O,{user:a,onSuccess:n})}):(0,j.jsx)(j.Fragment,{children:"... load"})},P=function(e){var t,n,a,c,s=e.open,i=e.customerMethods,d=(0,w.U2)(),_=(0,l.Z)(d,2),v=_[0],y=_[1],k=(0,x.useState)("payment methods"),N=k[0],S=k[1],O=(0,x.useState)([]),Z=O[0],z=O[1],D=(0,x.useState)(void 0),P=D[0],C=D[1],F=(0,h.ko)("IMemberService"),M=(0,f.a)(),R=(t=(0,o.Z)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I();case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),I=(n=(0,o.Z)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getMethods();case 2:(t=e.sent)&&z(null==t?void 0:t.data);case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),T=function(){if(M&&Z.length&&!s){var e,t=Z.find(function(e){var t;return e.id==(null==M||null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method)});null!==(e=t)&&void 0!==e&&e.card&&S(t=(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,j.jsx)(p.a,{icon:t.card.brand})," ","**** **** **** ".concat(t.card.last4)]}))}},q=(a=(0,o.Z)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F.createPaymentIntent();case 4:null!=(t=e.sent)&&t.client_secret?C(t.client_secret):console.error("Client secret not found in the response",t);case 6:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)});return((0,x.useEffect)(function(){y({active:!0}),q(),T(),i?z(i):I(),y({active:!1})},[]),s)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:m.__hash,children:m}),(0,j.jsxs)("div",{className:"jsx-".concat(m.__hash)+" account-methods",children:[Z.length>0&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"jsx-".concat(m.__hash)+" account-methods__existing",children:[(0,j.jsx)("div",{className:"jsx-".concat(m.__hash)+" account-methods__existing--title",children:"current methods"}),(0,j.jsx)("div",{className:"jsx-".concat(m.__hash)+" account-methods__list",children:Object.entries(Z).map(function(e){var t,n=(0,l.Z)(e,2),a=n[0],c=n[1];return(0,j.jsx)("div",{className:"jsx-".concat(m.__hash)+" account-methods__list-item",children:(0,j.jsx)(b,{default_payment_method:null==M||null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method,method:c,onDeleteSuccess:R,response:null==v?void 0:v.active})},a)})})]})}),P&&(0,j.jsx)(E,{clientSecret:P,onSuccess:I})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:m.__hash,children:m}),(0,j.jsx)(g.Z,{label:N,open:s||!v.active||(null==M||null===(c=M.invoice_settings)||void 0===c?void 0:c.default_payment_method)==void 0,children:(0,j.jsxs)("div",{className:"jsx-".concat(m.__hash)+" account-methods",children:[Z.length>0&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"jsx-".concat(m.__hash)+" account-methods__existing",children:["current methods",(0,j.jsx)("div",{className:"jsx-".concat(m.__hash)+" account-methods__list",children:Object.entries(Z).map(function(e){var t,n=(0,l.Z)(e,2),a=n[0],c=n[1];return(0,j.jsx)("div",{className:"jsx-".concat(m.__hash)+" account-methods__list-item",children:(0,j.jsx)(b,{default_source:null==M||null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method,method:c,onDeleteSuccess:R,response:v.active})},a)})})]})}),P&&(0,j.jsx)("div",{className:"jsx-".concat(m.__hash),children:(0,j.jsx)(E,{clientSecret:P,onSuccess:I})})]})})]})},C=n(17656),F=n(87828),M=[".subscriptions.jsx-857572766{width:100%;}",".subscriptions__calendar--title.jsx-857572766{font-size:var(--s-1);color:var(--gray-50);}"];M.__hash="857572766";var R=n(981),I=[".d-flex.jsx-1096317770,.calendar__header--filters.jsx-1096317770,.calendar__header.jsx-1096317770{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".calendar.jsx-1096317770{background-color:var(--gray-90);border-radius:var(--border-radius);overflow:hidden;border:solid 1px var(--gray-70);width:auto;}",".calendar__header.jsx-1096317770{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:auto;padding:var(--s-9) var(--s-9);}","@media (max-width:900px){.calendar__header.jsx-1096317770{gap:var(--s-5);-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".calendar__header--title.jsx-1096317770{text-transform:capitalize;font-size:var(--s-3);color:var(--gray-50);font-family:Game;font-style:normal;}","@media (max-width:900px){.calendar__header--title.jsx-1096317770{width:100%;}}",".calendar__header--filters.jsx-1096317770{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:var(--s-9);}","@media (max-width:900px){.calendar__header--filters.jsx-1096317770{width:100%;}}","@media (max-width:900px){.calendar__dows.jsx-1096317770{display:none;}}",".calendar__dow.jsx-1096317770{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:var(--s-9) var(--s-9) var(--s-9) 0;border-right:solid 1px var(--gray-70);text-transform:capitalize;color:var(--gray-50);background-color:var(--gray-80);line-height:1;text-align:right;}",".calendar__date-container.jsx-1096317770{width:auto;overflow:hidden;border-right:solid 1px var(--gray-80);border-bottom:solid 1px var(--gray-80);z-index:1;}","@media (min-width:1260px){.calendar__date-container.jsx-1096317770{aspect-ratio:1/1;}}"];I.__hash="1096317770";var T=n(65061),q=['@charset "UTF-8";',".d-flex.jsx-46876398,.calendar-date.jsx-46876398::before,.calendar-date.jsx-46876398,.calendar-date-modal__event--header--time.jsx-46876398,.calendar-date-modal__event--header.jsx-46876398,.calendar-date-modal.jsx-46876398{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".calendar-date-modal.jsx-46876398{margin:var(--element-height) 2px;width:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:var(--s-9);}",".calendar-date-modal__title.jsx-46876398{font-size:var(--s-2);line-height:1;}",".calendar-date-modal__event.jsx-46876398{border:solid 1px var(--gray-70);border-radius:var(--border-radius);width:100%;}",".calendar-date-modal__event--header.jsx-46876398{min-height:var(--element-height);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--gray-70);padding:0 var(--s-8);}",".calendar-date-modal__event--header--title.jsx-46876398{font-size:var(--s-4);line-height:1;text-transform:capitalize;}",".calendar-date-modal__event--header--time.jsx-46876398{font-family:Game;font-style:italic;--ui-icon-size:var(--s-8);--ui-icon-color:var(--gray-40);color:var(--gray-40);font-size:var(--s-8);line-height:1;gap:var(--s-9);}",".calendar-date-modal__event--description.jsx-46876398,.calendar-date-modal__event--action.jsx-46876398{padding:var(--s-8);}",".calendar-date.jsx-46876398{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;gap:2px;padding:var(--s-2) 5px 0;width:auto;z-index:1;border:solid 1px transparent;height:calc(100% - 2px - var(--s-2));}",".calendar-date.jsx-46876398::before{z-index:0;content:attr(data-day);width:auto;line-height:1;position:absolute;top:0;left:0 !important;color:var(--gray-80);padding:5px 8px;}","@media (max-width:900px){.calendar-date.jsx-46876398::before{content:attr(data-mobile-day);}}","@media (max-width:900px){.calendar-date.jsx-46876398{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.calendar-date__has-event.jsx-46876398{z-index:1;}.calendar-date__has-event.jsx-46876398::before{color:var(--primary);}}",".calendar-date__modal.jsx-46876398{gap:var(--s-4);}",".calendar-date.jsx-46876398:hover{border:solid 1px var(--gray-60);background-color:var(--gray-60-opaque);}",".calendar-date.jsx-46876398:hover.jsx-46876398::before{background-color:var(--gray-30-opaque);border-radius:0 0 4px 0;}",".calendar-date__title.jsx-46876398{font-size:var(--s-2);color:var(--gray-30);}",".calendar-date__event.jsx-46876398{z-index:2;position:relative;cursor:pointer;padding:2px 5px;font-size:var(--s-7);text-overflow:ellipsis;overflow:hidden;line-height:1;border-radius:var(--s-9);text-transform:capitalize;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:calc(100% - 10px);color:var(--gray-60);}","@media (min-width:900px){.calendar-date__event.jsx-46876398{width:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}",".calendar-date__event.jsx-46876398:hover{color:var(--white);--ui-icon-color:var(--white);background-color:var(--primary);}",".calendar-date__event--title.jsx-46876398{white-space:nowrap;}","@media (max-width:900px){.calendar-date__event--title.jsx-46876398{margin-right:auto;}}",'.calendar-date__event--title.jsx-46876398:before{vertical-align:middle;padding-right:5px;content:"\xb7";font-weight:900;font-size:var(--s-4);}',".calendar-date__event--time.jsx-46876398{width:auto;font-size:var(--s-8);line-height:1;--ui-icon-size:var(--s-8);white-space:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:4px;font-family:Game;font-style:italic;}","@media (max-width:900px){.calendar-date__event.jsx-46876398{display:none;}.calendar-date.jsx-46876398:hover .calendar-date__event.jsx-46876398{display:unset;}}",".calendar-date.jsx-46876398 .calendar-date__modal__event.jsx-46876398{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}"];q.__hash="46876398";var U=n(99013),A=function(e){var t,n=e.date,a=e.btnText,c=void 0===a?"rsvp":a,s=(0,U.dd)(),i=s.openModal;s.closeModal;var o=function(e){var t=e.events,a=(0,R.vc)("".concat(n.year,"-").concat(n.month,"-").concat(n.day));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:q.__hash,children:q}),(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal",children:[(0,j.jsx)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__title",children:a}),t.map(function(e,t){return(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event",children:[(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event--header",children:[(0,j.jsx)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event--header--title",children:e.title}),(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event--header--time",children:[(0,j.jsx)(p.a,{icon:"fa-clock"}),(0,R.vc)(e.iso)]})]}),(0,j.jsx)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event--description",children:e.description}),(0,j.jsx)("div",{className:"jsx-".concat(q.__hash)+" calendar-date-modal__event--action",children:(0,j.jsx)(N.Z,{children:c})})]},t)})]})]})},l=function(e,t){t.stopPropagation();var a=null==n?void 0:n.events;null!=a&&a.length&&i((0,j.jsx)(o,{events:[a[e]]}))};return(0,x.useEffect)(function(){},[n]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:q.__hash,children:q}),(0,j.jsx)("div",{"data-day":String(n.day),onClick:function(){var e=null==n?void 0:n.events;null!=e&&e.length&&i((0,j.jsx)(o,{events:e}))},"data-mobile-day":"".concat(R.hG[n.dow]," ").concat((0,R.vc)("".concat(n.month,"-").concat(n.day,"-").concat(n.year))),className:"jsx-".concat(q.__hash)+" "+"calendar-date".concat((null==n||null===(t=n.events)||void 0===t?void 0:t.length)&&" calendar-date__has-event"||""),children:(null==n?void 0:n.events)&&n.events.map(function(e,t){return(0,j.jsxs)("div",{onClick:function(e){return l(t,e)},className:"jsx-".concat(q.__hash)+" calendar-date__event",children:[(0,j.jsx)("div",{className:"jsx-".concat(q.__hash)+" calendar-date__event--title",children:e.title}),e.time&&(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash)+" calendar-date__event--time",children:[(0,j.jsx)(p.a,{icon:"fa-clock"}),(0,j.jsxs)("div",{className:"jsx-".concat(q.__hash),children:[" ",e.time]})]})]},t)})})]})},L=n(40701),Y=function(e){var t=e.events,n=void 0===t?[{title:"event test 1",description:"desc 1",iso:"2023-11-01"},{title:"event test 2",description:"desc 2",iso:"2023-11-01T12:00:00Z"}]:t,a=e.year,c=void 0===a?new Date().getFullYear():a,s=e.month,i=void 0===s?new Date().getMonth()+1:s,o=e.title,l=(0,x.useState)({mm:i,yy:c}),d=l[0],u=l[1],m=(0,x.useState)([]),h=m[0],f=m[1],_=function(e,t){for(var a=[],c=new Date(t,e-1,1);0!==c.getDay();)c.setDate(c.getDate()-1);for(var s=!0;!function(){if(c.getMonth()+1!==e){if(!s)return 1}else s=!1;var t="".concat(c.getFullYear(),"-").concat(String(c.getMonth()+1).padStart(2,"0"),"-").concat(String(c.getDate()).padStart(2,"0")),r=n.filter(function(e){return e.iso.startsWith(t)});a.push({month:c.getMonth()+1,year:c.getFullYear(),day:c.getDate(),dow:c.getDay(),events:r}),c.setDate(c.getDate()+1)}(););return a},p=function(e){var t="plus"===e?1:-1;u({mm:(d.mm-1+t+12)%12+1,yy:1===d.mm&&-1===t?d.yy-1:12===d.mm&&1===t?d.yy+1:d.yy})};return(0,x.useEffect)(function(){f(_(d.mm,d.yy))},[d]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:I.__hash,children:I}),(0,j.jsxs)("div",{className:"jsx-".concat(I.__hash)+" calendar",children:[(0,j.jsxs)("div",{className:"jsx-".concat(I.__hash)+" calendar__header",children:[(0,j.jsx)("div",{className:"jsx-".concat(I.__hash)+" calendar__header--title",children:o}),(0,j.jsxs)("div",{className:"jsx-".concat(I.__hash)+" calendar__header--filters",children:[(0,j.jsx)(N.Z,{variant:"dark",onClick:function(){var e=new Date().getMonth()+1,t=new Date().getFullYear();f(_(e,t)),u({mm:e,yy:t})},children:"Today"}),(0,j.jsx)(L.Z,{variant:"center dark",amount:"".concat(R.I3[d.mm-1],", ").concat(d.yy),setAmount:console.log,traits:{beforeIcon:{icon:"fas-minus",onClick:function(){return p("minus")}},afterIcon:{icon:"fas-plus",onClick:function(){return p("plus")}}}})]})]}),(0,j.jsx)("div",{className:"jsx-".concat(I.__hash)+" calendar__dows",children:(0,j.jsx)(T.Z,{xs:7,children:R.hG.map(function(e,t){return(0,j.jsx)("div",{className:"jsx-".concat(I.__hash)+" calendar__dow",children:e},t)})})}),(0,j.jsx)(T.Z,{xs:7,responsive:!0,children:h&&h.map(function(e,t){return(0,j.jsx)("div",{className:"jsx-".concat(I.__hash)+" calendar__date-container",children:(0,j.jsx)(A,{date:e})},t)})})]})]})},G=function(e){e.user,(0,R.vc)(new Date);var t=(0,x.useState)(void 0);return t[0],t[1],(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:M.__hash,children:M}),(0,j.jsx)("div",{className:"jsx-".concat(M.__hash)+" subscriptions",children:(0,j.jsx)("div",{className:"jsx-".concat(M.__hash)+" subscriptions__calendar",children:(0,j.jsx)(Y,{title:"subscriptions"})})})]})},H=['@import url("https://fonts.googleapis.com/css2?family=Ephesis&family=Montserrat:wght@800&family=Play:wght@400;700&family=Poppins&display=swap");',".d-flex.jsx-1211785063,.account-documents__actions.jsx-1211785063,.account-documents .account-documents__list .account-documents--document__terms.jsx-1211785063,.account-documents__pdf-preview.jsx-1211785063,.account-documents__header.jsx-1211785063,.account-documents__status--docs--none.jsx-1211785063,.account-documents__status--docs--doc.jsx-1211785063,.account-documents__status--docs.jsx-1211785063{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".account-documents.jsx-1211785063{width:100%;margin:auto;height:100%;}",".account-documents__status.jsx-1211785063{padding:var(--s-9) var(--s-8);width:calc(100% - var(--s-8) * 2);text-transform:uppercase;font-size:var(--s-5);height:100%;}",".account-documents__status--docs.jsx-1211785063{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:var(--s-9);font-size:var(--s-8);text-transform:unset;}",".account-documents__status--docs--doc.jsx-1211785063{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:var(--s-5);color:var(--orange);}",".account-documents__status--docs--none.jsx-1211785063{margin:var(--s-9) 0;border-radius:var(--border-radius);width:100%;background-color:var(--gray-70);min-height:100px;}",".account-documents__header.jsx-1211785063{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:0 0 var(--padding);}",".account-documents__header--title.jsx-1211785063{font-size:var(--s-3);color:var(--gray-30);font-style:italic;font-weight:900;}",".account-documents__pdf-preview.jsx-1211785063{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:var(--padding);min-height:600px;}",".account-documents__pdf-preview--content.jsx-1211785063{min-height:600px;width:100%;overflow:hidden;}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document.jsx-1211785063 .account-documents__pdf.jsx-1211785063{background-color:var(--gray-90);}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document.jsx-1211785063 .account-documents__pdf__description.jsx-1211785063{color:var(--gray-40);padding:var(--padding);}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document__terms.jsx-1211785063{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);margin:var(--s-9) 0;}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document__terms--term.jsx-1211785063{max-width:calc(100% - var(--s-5) * 2);}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document__terms--term__title.jsx-1211785063{font-size:var(--s-5);color:var(--gray-40);}",".account-documents.jsx-1211785063 .account-documents__list.jsx-1211785063 .account-documents--document__terms--term__body.jsx-1211785063{font-size:var(--s-7);line-height:1.5;color:var(--gray-50);}",".account-documents__actions.jsx-1211785063{padding:calc(var(--element-height) * 2) var(--padding) calc(var(--element-height) * 2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--element-height);}"];H.__hash="1211785063";var J=n(34485),V=n(40384),W=n(67261),X=[".d-flex.jsx-2182418017,.documents-none--content.jsx-2182418017,.documents-none.jsx-2182418017{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".documents-none.jsx-2182418017{border-radius:var(--border-radius);background-color:var(--gray-80);height:500px;font-size:var(--s-2);font-weight:900;color:var(--secondary);text-transform:capitalize;}",".documents-none--content.jsx-2182418017{background-color:var(--gray-90);border-radius:var(--border-radius);width:var(--padding-width);height:var(--padding-width);}"];X.__hash="2182418017";var B=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:X.__hash,children:X}),(0,j.jsx)("div",{className:"jsx-".concat(X.__hash)+" documents-none",children:(0,j.jsx)("div",{className:"jsx-".concat(X.__hash)+" documents-none--content",children:"no docs"})})]})},K=n(61120),Q=n.n(K),$=n(91819),ee=function(e){var t,n,a,c,s=e.user,i=e.previewPdf,d=(0,x.useRef)(null),m=(0,x.useState)([]),f=m[0],_=m[1],p=(0,h.ko)("IShoppingService"),v=(0,w.U2)(),b=(0,l.Z)(v,2),y=b[0],k=b[1],O=(0,x.useState)(""),Z=O[0],z=O[1],D=(0,x.useRef)(null),E=(0,h.ko)("IDocumentService"),P=(0,U.dd)(),C=P.openModal,F=P.closeModal;P.modalContent;var M=(n=(0,o.Z)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(),k({active:!0,body:"Uploading your document"}),e.prev=2,e.next=5,E.uploadDocument(t,"tax_document_user_upload");case 5:console.log("PDF uploaded successfully",e.sent),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error uploading PDF",e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return n.apply(this,arguments)}),R=(a=(0,o.Z)(u().mark(function e(t){var n,a,c,s,o,l,d,x,m,h;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[ PDF CONTAINER REF ]",null==(n=D.current)?void 0:n.offsetHeight),n){e.next=5;break}return console.error("PDF container element not found"),e.abrupt("return");case 5:return a=null==n?void 0:n.offsetWidth,c=null==n?void 0:n.offsetHeight,s=10,o=new $.kH("p","pt",[a,c]),l=s,d=0,e.next=13,Q()(n,{scrollY:l});case 13:d=(x=e.sent).height,o.addImage(x,"PNG",s,l,a-2*s,d),m=o.output("blob"),(h=new FormData).append("file",m,"document.pdf"),i?C((0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:H.__hash,children:H}),(0,j.jsxs)("div",{className:"jsx-".concat(H.__hash)+" account-documents__pdf-preview",children:[(0,j.jsx)("h2",{className:"jsx-".concat(H.__hash),children:"Document Preview"}),(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__pdf-preview--content",children:(0,j.jsx)("embed",{src:URL.createObjectURL(m),type:"application/pdf",width:"100%",height:"600px",className:"jsx-".concat(H.__hash)})}),(0,j.jsx)(N.Z,{variant:"primary",onClick:function(){return M(h).then(function(){return k({active:!1})})},children:"Confirm & continue"}),(0,j.jsx)(N.Z,{variant:"link",onClick:F,children:"cancel"})]})]})):M(h).then(function(){return k({active:!1})});case 20:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),I=function(e){z(e.target.value)},q=(c=(0,o.Z)(u().mark(function e(){var t,n,a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k({active:!0,body:"getting your documents"}),e.prev=1,e.next=4,p.getProducts();case 4:n=e.sent,a=null==s||null===(t=s.metadata)||void 0===t?void 0:t.requirements,_(null==n?void 0:n.data.filter(function(e){var t,n;return(null==e||null===(t=e.metadata)||void 0===t?void 0:t.mid)==S.Z.merchant.mid&&(null==e||null===(n=e.metadata)||void 0===n?void 0:n.type)=="document"&&(null==a?void 0:a.includes(e.id))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("[ DOCS ERROR ]",e.t0);case 13:k({active:!1});case 14:case"end":return e.stop()}},e,null,[[1,10]])})),function(){return c.apply(this,arguments)}),A=(t=Z.length,s&&(null==s?void 0:s.name)!=void 0?t<3||!!(t>=3&&String(s.name).toLowerCase().includes(Z.toLowerCase()))||"full name incorrect":"no user");(0,x.useEffect)(function(){Object(f).length||q()},[_]);var L=function(e){var t=e.status,n=e.docs;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:H.__hash,children:H}),(0,j.jsxs)("div",{className:"jsx-".concat(H.__hash)+" account-documents__status",children:[t," Documents",(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__status--docs",children:(null==n?void 0:n.length)&&Object.entries(n).map(function(e){var t=(0,l.Z)(e,2),n=t[0],a=t[1];return(0,j.jsxs)("div",{className:"jsx-".concat(H.__hash)+" account-documents__status--docs--doc",children:[Number(n+1),". ",(0,j.jsx)(N.Z,{variant:"link",children:(0,J.R)(null==a?void 0:a.name)})]},n)})||(0,j.jsxs)("div",{className:"jsx-".concat(H.__hash)+" account-documents__status--docs--none",children:["NO documents are ",t]})})]})]})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:H.__hash,children:H}),(0,j.jsxs)("div",{ref:d,className:"jsx-".concat(H.__hash)+" account-documents",children:[(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__header",children:(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__header--title",children:(null==s?void 0:s.name)&&"".concat((0,J.R)(s.name),"'s Documents")})}),(null==f?void 0:f.length)&&(0,j.jsxs)(T.Z,{xs:1,md:2,variant:"card",gapX:10,margin:"var(--padding) 0",children:[(0,j.jsx)(L,{status:"incomplete",docs:f,className:"jsx-".concat(H.__hash)}),(0,j.jsx)(L,{status:"complete",className:"jsx-".concat(H.__hash)})]})||null,(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__list",children:(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents--document",children:null!=f&&f.length?f.map(function(e,t){return(0,j.jsx)("div",{className:"jsx-".concat(H.__hash),children:(0,j.jsx)(g.Z,{variant:"document",label:null==e?void 0:e.name,open:!0,children:(0,j.jsxs)("div",{ref:D,className:"jsx-".concat(H.__hash)+" account-documents__pdf",children:[(null==e?void 0:e.description)&&(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents__pdf__description",children:null==e?void 0:e.description}),(0,j.jsx)("ol",{className:"jsx-".concat(H.__hash)+" account-documents--document__terms",children:(null==e?void 0:e.metadata)&&Object.entries(null==e?void 0:e.metadata).filter(function(e){var t=(0,l.Z)(e,2),n=t[0];return t[1],"t-"===n.substring(0,2)}).map(function(e){var t=(0,l.Z)(e,2),n=t[0],a=t[1],c=String("".concat((0,J.Z)(null==n?void 0:n.split("_")[1])));return(0,j.jsxs)("li",{className:"jsx-".concat(H.__hash)+" account-documents--document__terms--term",children:[(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents--document__terms--term__title",children:(0,J.Z)((0,V.Z)(c))}),(0,j.jsx)("div",{className:"jsx-".concat(H.__hash)+" account-documents--document__terms--term__body",children:a&&a||""})]},n)})}),(0,j.jsxs)("div",{className:"jsx-".concat(H.__hash)+" account-documents__actions",children:[(0,j.jsx)(W.Z,{variant:"signature".concat("string"!=typeof A?"":" invalid"),name:"name",value:Z,label:'Sign, "'.concat(null==s?void 0:s.name,'". to agree to the terms & conditions'),placeholder:null==s?void 0:s.name,onChange:I,error:"string"==typeof A&&A||void 0}),(0,j.jsx)(N.Z,{variant:String(null==s?void 0:s.name).toLowerCase()==Z.toLowerCase()?"primary":"disabled",onClick:function(){return R(e.id)},children:"Agree"})]})]})})},t)}):!y.active&&(0,j.jsx)(B,{})})})]})]})};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ea=function(e){(0,c.Z)(e);var t=(0,f.a)(),n=(0,f.d)(),a={"edit profile":(0,j.jsx)(C.Z,{user:t,open:!0}),billing:(0,j.jsx)(P,{open:"opened"}),"email notification":"email notification","privacy & security":"privacy & security"},s=(0,x.useState)(a),o=s[0],l=s[1];return(0,x.useEffect)(function(){if(n&&[7,10].includes(Number(n))){var e={documents:(0,j.jsx)(ee,{user:t,previewPdf:!1}),subscriptions:(0,j.jsx)(G,{user:t})};l(en(en({},o),e))}},[n,l]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r(),{id:i.__hash,children:i}),n&&(0,j.jsx)(F.Z,{defaultView:"edit profile",title:"account",views:o})||""]})}},40701:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(16835),c=n(8151),s=n.n(c),r=n(67294),i=[".ui-pill.jsx-1390152752{width:auto;}",".ui-pill.ui-pill-responsive.jsx-1390152752{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];i.__hash="1390152752";var o=n(67261),l=n(80954),d=n.n(l),u=n(85893),x=function(e){var t=e.amount,n=e.setAmount,c=e.variant,l=e.traits,x=(0,r.useState)("0"),m=x[0],h=x[1],f=l;f||"number"!=typeof t||(f={beforeIcon:{icon:t>1?"fas-minus":"fa-trash-can",onClick:function(){return v("minus")},color:1==t?"red":""},afterIcon:{icon:"fas-plus",onClick:function(){return v("plus")}}}),l&&Object.entries(l).forEach(function(e){var t=(0,a.Z)(e,2),n=t[0],c=t[1];f[n]=c});var _=(0,r.useRef)(d()(function(e){isNaN(Number(e))||n(Number(e))},1500)).current,p=(0,r.useCallback)(function(e){h(e.target.value),_(e.target.value)},[_]),v=(0,r.useCallback)(function(e){"number"==typeof t&&n(t+("plus"===e?1:-1))},[t,n]);return(0,r.useEffect)(function(){t&&h(t.toString())},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s(),{id:i.__hash,children:i}),(0,u.jsx)("div",{className:"jsx-".concat(i.__hash)+" "+"ui-pill ".concat(null!=l&&l.responsive?" ui-pill-responsive":""),children:(0,u.jsx)(o.Z,{name:"ui-pill",variant:c,traits:f,value:m,onChange:p})})]})}},47017:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(37802)}])}},function(e){e.O(0,[443,847,895,79,828,888,774,179],function(){return e(e.s=47017)}),_N_E=e.O()}]);
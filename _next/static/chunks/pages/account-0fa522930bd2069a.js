(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{1638:function(e,t,n){"use strict";n.d(t,{Z:function(){return views_ProfileForm_ProfileForm}});var a=n(29),i=n(9499),r=n(6835),s=n(5003),c=n.n(s),o=n(7794),l=n.n(o),d=n(7294),u=[".profile-form.jsx-4272530438{padding:var(--s-5) var(--s-4);border-radius:var(--border-radius);background-color:var(--gray-90);}"];u.__hash="4272530438";var x=n(9280),m=n(5741),h=n(4758),_=n(1523),f=n(6895),p=n(5893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var views_ProfileForm_ProfileForm=function(e){var t,n=e.user;e.open;var i=(0,x.ko)("IMemberService"),s=(0,m.lm)(),o=(0,r.Z)(s,2),v=(o[0],o[1]),j=(0,d.useState)(!1),g=j[0],b=j[1],w=[{name:"first_name",label:"first name",required:!0},{name:"last_name",label:"last name",required:!0},{name:"email",label:"email",required:!0},{name:"phone",label:"phone",required:!0,constraints:{min:1,max:9}},{name:"address",label:"address",required:!0}],y=(0,d.useState)(w),k=y[0],S=y[1],onUser=function(){var e=w.map(function(e){return e.name}),t=function(){if(!n)return[];n.phone&&(n.phone=(0,_.wW)(n.phone));var t=n.name.split(" "),a=_objectSpread(_objectSpread({},n),{},{first_name:t[0],last_name:t[1]||""});return delete a.name,w.map(function(t){return t.name&&e.includes(t.name)?_objectSpread(_objectSpread({},t),{},{value:a[t.name]||t.value}):t})}();t.length&&S(t)},N=(t=(0,a.Z)(l().mark(function _callee(e){var t,a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t=function(e){var t;return null===(t=k.find(function(t){return t.name==e}))||void 0===t?void 0:t.value},a={name:"".concat(t("first_name")," ").concat(t("last_name")),email:t("email"),phone:(0,_.wW)(String(t("phone")),"US",!0)},e.prev=3,e.next=6,i.updateMember(n.id,a);case 6:"customer"==(r=e.sent).object&&v({active:!0,list:[{label:"success",message:(0,p.jsx)(f.Z,{text:"Updated Member: *".concat(null==r?void 0:r.name,"*")})}]}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("[ EROR ]",e.t0);case 13:b(!1);case 14:case"end":return e.stop()}},_callee,null,[[3,10]])})),function(e){return t.apply(this,arguments)});return(0,d.useEffect)(function(){n&&JSON.stringify(k)===JSON.stringify(w)&&onUser()},[n,S]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c(),{id:u.__hash,children:u}),(0,p.jsx)("div",{className:"jsx-".concat(u.__hash)+" profile-form",children:(0,p.jsx)(h.Z,{title:"update profile",fields:k,onChange:function(e){var t=e.target,n=t.name,a=t.value;S(function(e){return e.map(function(e){return e.name===n?_objectSpread(_objectSpread({},e),{},{value:a}):e})})},onSubmit:N,loading:g})})]})}},2375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return account}});var a=n(7191),i=n(5003),r=n.n(i),s=[".d-grid.jsx-2070031882,.account.jsx-2070031882{display:grid;grid-template-columns:1fr 2fr;grid-template-rows:1fr;grid-column-gap:5px;grid-row-gap:0px;gap:10px;}",".account.jsx-2070031882{width:100%;position:relative;}","@media (max-width:900px){.account.jsx-2070031882{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}",".account.jsx-2070031882 .account__view.jsx-2070031882{background-color:var(--gray-50);border-radius:var(--border-radius);width:calc(100% - var(--s-6) * 2);padding:var(--s-7);}",".account.jsx-2070031882 .account__view.jsx-2070031882 .account__view__title.jsx-2070031882{text-transform:uppercase;-webkit-letter-spacing:var(--s-9);-moz-letter-spacing:var(--s-9);-ms-letter-spacing:var(--s-9);letter-spacing:var(--s-9);font-weight:900;font-size:var(--s-1);line-height:1.5;margin-bottom:var(--s-9);color:var(--gray-20);}"];s.__hash="2070031882";var c=n(29),o=n(6835),l=n(7794),d=n.n(l),u=n(7294),x=[".d-flex.jsx-1947788874,.account-methods.jsx-1947788874 .account-methods__existing.jsx-1947788874 .account-methods__list.jsx-1947788874,.account-methods.jsx-1947788874 .account-methods__existing.jsx-1947788874,.account-methods.jsx-1947788874{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".brdr.jsx-1947788874{border:solid 1px var(--gray-80);outline:solid 1px var(--gray-60);}",".body.jsx-1947788874{padding:0 var(--padding);width:calc(100% - 1px - var(--padding) * 2);}",".account-methods.jsx-1947788874{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-height:var(--element-height);width:100%;}",".account-methods.jsx-1947788874 .account-methods__existing.jsx-1947788874{width:calc(100% - var(--padding) * 2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);padding:var(--padding);background-color:var(--gray-80);border-radius:var(--border-radius);border:solid 1px var(--gray-70);}",".account-methods.jsx-1947788874 .account-methods__existing--title.jsx-1947788874{width:100%;font-size:var(--s-3);text-transform:capitalize;color:var(--gray-40);}",".account-methods.jsx-1947788874 .account-methods__existing.jsx-1947788874 .account-methods__list.jsx-1947788874{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-7);width:100%;}",".account-methods.jsx-1947788874 .account-methods__existing.jsx-1947788874 .account-methods__list.jsx-1947788874 .account-methods__list-item.jsx-1947788874{width:100%;min-height:var(--element-height);}"];x.__hash="1947788874";var m=n(9280),h=n(2516),_=["@-webkit-keyframes tease-jsx-1979030886{0%{width:calc(100% - 36px);}40%{width:calc(100% - 36px - var(--s-3));}50%{width:calc(100% - 36px - var(--s-4));}70%{width:calc(100% - 36px - var(--s-3));}100%{width:calc(100% - 36px - var(--s-3));}}","@keyframes tease-jsx-1979030886{0%{width:calc(100% - 36px);}40%{width:calc(100% - 36px - var(--s-3));}50%{width:calc(100% - 36px - var(--s-4));}70%{width:calc(100% - 36px - var(--s-3));}100%{width:calc(100% - 36px - var(--s-3));}}","@-webkit-keyframes show-jsx-1979030886{0%{width:calc(100% - 36px);}100%{width:calc(100% - 140px);}}","@keyframes show-jsx-1979030886{0%{width:calc(100% - 36px);}100%{width:calc(100% - 140px);}}","@-webkit-keyframes hide-jsx-1979030886{0%{width:calc(100% - 140px);}100%{width:calc(100% - 36px);}}","@keyframes hide-jsx-1979030886{0%{width:calc(100% - 140px);}100%{width:calc(100% - 36px);}}",".d-flex.jsx-1979030886,.account-current-method__response.jsx-1979030886,.account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886 .account-current-method__set-default.jsx-1979030886:hover.jsx-1979030886::after,.account-current-method__content.jsx-1979030886 .account-current-method__exp.jsx-1979030886,.account-current-method__content.jsx-1979030886 .account-current-method__info.jsx-1979030886,.account-current-method__content.jsx-1979030886,.account-current-method.jsx-1979030886{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".account-current-method.jsx-1979030886{cursor:pointer;background-color:var(--primary-opaque);color:var(--gray-90);position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;--ui-icon-color:var(--gray-20);width:100%;border-radius:var(--border-radius);border:solid 1px var(--gray-60);overflow:hidden;}",".account-current-method__content.jsx-1979030886{--ui-icon-color:var(--gray-40);color:var(--gray-40);background-color:var(--gray-90);border-right:solid 5px var(--gray-50);height:var(--element-height);border-radius:var(--border-radius) 0 0 var(--border-radius);width:calc(100% - 36px);padding:0 18px;line-height:1;font-size:var(--s-5);-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;z-index:2;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-animation-play-state:paused;animation-play-state:paused;}","@media (max-width:900px){.account-current-method__content.jsx-1979030886{font-size:var(--s-6);}}",".account-current-method__content.account-current-method__content-show.jsx-1979030886{-webkit-animation:show-jsx-1979030886 1s forwards;animation:show-jsx-1979030886 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;}",".account-current-method__content.account-current-method__content-hide.jsx-1979030886{-webkit-animation:hide-jsx-1979030886 1s forwards;animation:hide-jsx-1979030886 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;}",".account-current-method__content.account-current-method__content__hoverable.jsx-1979030886:hover{-webkit-animation:tease-jsx-1979030886 1s forwards;animation:tease-jsx-1979030886 1s forwards;-webkit-animation-play-state:running;animation-play-state:running;color:var(--gray-10);--ui-icon-color:var(--gray-10);}",".account-current-method__content.jsx-1979030886:active{background-color:var(--primary);}",".account-current-method__content.jsx-1979030886 .account-current-method__info.jsx-1979030886{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:18px;--ui-icon-size:var(--s-2);-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;}","@media (max-width:900px){.account-current-method__content.jsx-1979030886 .account-current-method__info.jsx-1979030886{--ui-icon-size:var(--s-5);}}",".account-current-method__content.jsx-1979030886 .account-current-method__info.jsx-1979030886 .account-current-method__default.jsx-1979030886{position:relative;}",'.account-current-method__content.jsx-1979030886 .account-current-method__info.jsx-1979030886 .account-current-method__default.jsx-1979030886::after{top:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);padding:4px 7px;line-height:1;font-weight:900;color:var(--gray-20);background-color:var(--primary-opaque);font-style:italic;left:0;position:absolute;font-size:var(--s-8);border-radius:var(--s-9);border:solid 2px var(--gray-20);content:"DEFAULT";}',".account-current-method__content.jsx-1979030886 .account-current-method__exp.jsx-1979030886{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:var(--element-height);right:0;top:0;bottom:0;z-index:1;}",".account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886>div.jsx-1979030886{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;aspect-ratio:1/1;}",".account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886 .account-current-method__set-default.jsx-1979030886{position:relative;overflow:visible;--ui-icon-color:var(--primary-opaque);}",".account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886 .account-current-method__set-default.jsx-1979030886:hover{background-color:var(--white);z-index:999;}",'.account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886 .account-current-method__set-default.jsx-1979030886:hover.jsx-1979030886::after{left:0;text-align:center;background-color:var(--gray-30-opaque);color:var(--gray-90);content:"set as default";font-size:var(--s-8);aspect-ratio:1/1;width:var(--element-height);padding:2px;position:absolute;}',".account-current-method.jsx-1979030886 .account-current-method__behind.jsx-1979030886 .account-current-method__delete.jsx-1979030886:hover{background-color:var(--red);}",".account-current-method__response.jsx-1979030886{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:0 10px;height:var(--element-height);color:var(--primary);background-color:var(--gray-60);}",".account-current-method__response.account-current-method__response-error.jsx-1979030886{color:var(--orange);}"];_.__hash="1979030886";var f=n(2881),p=n(5741),v=n(5893),components_AccountCurrentMethod_AccountCurrentMethod=function(e){var t,n,a=e.method,i=e.onDeleteSuccess,s=e.response,l=e.default_payment_method,x=(0,m.ko)("IMemberService"),h=1==String(a.card.exp_month).length?"0".concat(a.card.exp_month):a.card.exp_month,j=(0,u.useState)(0),g=j[0],b=j[1],w=(0,u.useState)(""),y=w[0],k=w[1],S=(0,p.lm)(),N=(0,o.Z)(S,2),C=(N[0],N[1]),Z=(t=(0,c.Z)(d().mark(function _callee(e){var t,n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(3),C({active:!0,list:[{label:"deleting payment method"}]}),a.next=4,x.deleteMethod(e);case 4:C({active:!0,persistance:3e3,list:[{label:"payment method"},{label:n=(t=a.sent).message?t.message:"*".concat(t.message)}]}),b(0),i(n);case 9:case"end":return a.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),D=(n=(0,c.Z)(d().mark(function _callee2(e){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return b(4),t.prev=1,t.next=4,x.toggleDefaultPaymentMethod(e);case 4:handleClick(t.sent.message.includes("removed")?8:7),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("[ SET DEFAULT METHOD ( ERROR ) ]",t.t0);case 12:case"end":return t.stop()}},_callee2,null,[[1,9]])})),function(e){return n.apply(this,arguments)}),handleClick=function(e){var t=e;switch("number"!=typeof t&&(t=g),console.log("[ TARGET ]",t),t){case 0:b(g+1),k("account-current-method__content-show");break;case 1:b(g+1),k("account-current-method__content-hide");break;case 2:k("account-current-method__content-show"),b(1);break;case 3:Z(a.id);break;case 4:D(a.id);break;case 5:C({active:!0,list:[{label:"Method is already default payment method, please select another."}]}),k("account-current-method__content-hide"),b(0);break;case 7:C({active:!0,list:[{label:"Method set as default"}]}),b(0);case 8:C({active:!0,list:[{label:"Method removed as default"}]}),b(0)}};return(0,u.useEffect)(function(){},[handleClick]),(0,u.useEffect)(function(){s&&""!=s&&C({active:!0,list:[{label:s}]})},[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:_.__hash,children:_}),(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method",children:[(0,v.jsxs)("div",{onClick:function(){return handleClick()},className:"jsx-".concat(_.__hash)+" "+"account-current-method__content".concat([0].includes(g)?" account-current-method__content__hoverable ":" "," ").concat(y),children:[(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__info",children:[(0,v.jsx)(f.a,{icon:a.card.brand}),"**** **** **** ".concat(a.card.last4),a.id==l&&(0,v.jsx)("span",{className:"jsx-".concat(_.__hash)+" account-current-method__default"})]}),(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__exp",children:[h," / ",a.card.exp_year]})]}),(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" account-current-method__behind",children:[(0,v.jsx)("div",{onClick:function(){return handleClick(4)},className:"jsx-".concat(_.__hash)+" account-current-method__set-default",children:(0,v.jsx)(f.a,{icon:4==g?"spinner":a.id==l?"fa-star":"fal-star"})}),(0,v.jsx)("div",{onClick:function(){return handleClick(3)},className:"jsx-".concat(_.__hash)+" account-current-method__delete",children:(0,v.jsx)(f.a,{icon:3==g?"spinner":"fa-trash-can"})})]})]})]})},j=n(8678),g=n(7979),b=n(6664),w=[".d-flex.jsx-2307496356,.account-create-method__content.jsx-2307496356{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".account-create-method.jsx-2307496356{width:100%;}",".account-create-method__content.jsx-2307496356{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:var(--element-height);border-radius:var(--border-radius);background-color:var(--gray-80);padding:calc(var(--element-height) * 1.5) var(--s-5) var(--s-5);position:relative;border:solid 1px var(--gray-60);}",'.account-create-method__content.jsx-2307496356 #payment-element.jsx-2307496356::before{position:absolute;top:var(--s-9);font-size:var(--s-3);text-transform:capitalize;color:var(--gray-50);content:"add method";}',".account-create-method__content__submit.jsx-2307496356{margin:0;width:100%;}"];w.__hash="2307496356";var y=n(7691),k=n(8991),components_AccountCreateMethod_AccountCreateMethod=function(e){var t,n=e.onSuccess,a=(e.open,e.collapse,e.user),i=e.shippable,s=(0,b.useStripe)(),o=(0,b.useElements)(),l={layout:{type:"tabs",defaultCollapsed:!1,radios:!1,spacedAccordionItems:!0}},x=(0,u.useCallback)((t=(0,c.Z)(d().mark(function _callee(e){var t,r,c;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),t={return_url:"".concat(k.Z.site.url,"/account?vid=billing+info")},i&&(null==a?void 0:a.address)!=void 0&&(t.shipping={name:(null==a?void 0:a.name)||"no-name",address:a.address}),l.prev=4,l.next=7,null==s?void 0:s.confirmSetup({elements:o,confirmParams:t});case 7:console.log("[ RESULT ]",r=l.sent),r.error?console.log("[ Create Method ]( ERROR )",r.error.message):(c=r.paymentIntent)&&"succeeded"===c.status&&n&&n(c),l.next=15;break;case 12:l.prev=12,l.t0=l.catch(4),alert(JSON.stringify(l.t0));case 15:case"end":return l.stop()}},_callee,null,[[4,12]])})),function(e){return t.apply(this,arguments)}),[o]),m=(null==o?void 0:o.getElement("payment"))||!1;return(0,u.useEffect)(function(){o&&!m&&o.create("payment",l).mount("#payment-element")},[s,o]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:w.__hash,children:w}),(0,v.jsx)("form",{onSubmit:x,className:"jsx-".concat(w.__hash)+" account-create-method",children:(0,v.jsxs)("div",{className:"jsx-".concat(w.__hash)+" account-create-method__content",children:[(0,v.jsx)("div",{id:"payment-element",className:"jsx-".concat(w.__hash)}),(0,v.jsx)("div",{className:"jsx-".concat(w.__hash)+" account-create-method__submit",children:(0,v.jsx)(y.Z,{type:"submit",variant:m?"primary":"disabled",children:"Add Payment Method"})})]})})]})},S=n(4465),N=String("pk_live_qBiVh0MkAYVU7o3oVmP1Tzg900DLvxesSw".trim()),C=(0,S.J)(N),StripePaymentForm_StripePaymentForm=function(e){var t=e.clientSecret,n=e.onSuccess,a=(0,h.aF)();return(0,v.jsx)(b.Elements,{stripe:C,options:{clientSecret:t,appearance:{theme:"night",variables:{colorPrimary:"#1e88e5",colorBackground:"#262626",colorText:"#e0e0e0"}}},children:(0,v.jsx)(components_AccountCreateMethod_AccountCreateMethod,{user:a,onSuccess:n})})},AccountMethods_controller_AccountMethods=function(e){var t,n,a,i,s=e.open,l=e.customerMethods,_=(0,g.U2)(),p=(0,o.Z)(_,2),b=p[0],w=p[1],y=(0,u.useState)("payment methods"),k=y[0],S=y[1],N=(0,u.useState)([]),C=N[0],Z=N[1],D=(0,u.useState)(void 0),E=D[0],z=D[1],F=(0,m.ko)("IMemberService"),M=(0,h.aF)(),P=(t=(0,c.Z)(d().mark(function _callee(e){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O();case 1:case"end":return e.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),handleCreated=function(){O()},O=(n=(0,c.Z)(d().mark(function _callee2(){var e;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getMethods();case 2:console.log(e=t.sent),e&&Z(null==e?void 0:e.data);case 5:case"end":return t.stop()}},_callee2)})),function(){return n.apply(this,arguments)}),handleLabel=function(){if(M&&C.length){var e,t=C.find(function(e){var t;return e.id==(null==M?void 0:null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method)});null!==(e=t)&&void 0!==e&&e.card&&S(t=(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,v.jsx)(f.a,{icon:t.card.brand})," DEF ","**** **** **** ".concat(t.card.last4)]}))}},A=(a=(0,c.Z)(d().mark(function _callee3(){var e;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!E){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,F.createPaymentIntent();case 4:null!=(e=t.sent)&&e.client_secret?z(e.client_secret):console.error("Client secret not found in the response",e);case 6:case"end":return t.stop()}},_callee3)})),function(){return a.apply(this,arguments)});return((0,u.useEffect)(function(){w({active:!0}),A(),handleLabel(),l?Z(l):O(),w({active:!1})},[]),s)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:x.__hash,children:x}),(0,v.jsxs)("div",{className:"jsx-".concat(x.__hash)+" account-methods",children:[C.length>0&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"jsx-".concat(x.__hash)+" account-methods__existing",children:[(0,v.jsx)("div",{className:"jsx-".concat(x.__hash)+" account-methods__existing--title",children:"current methods"}),(0,v.jsx)("div",{className:"jsx-".concat(x.__hash)+" account-methods__list",children:Object.entries(C).map(function(e){var t,n=(0,o.Z)(e,2),a=n[0],i=n[1];return(0,v.jsx)("div",{className:"jsx-".concat(x.__hash)+" account-methods__list-item",children:(0,v.jsx)(components_AccountCurrentMethod_AccountCurrentMethod,{default_payment_method:null==M?void 0:null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method,method:i,onDeleteSuccess:P,response:null==b?void 0:b.active})},a)})})]})}),E&&(0,v.jsx)(StripePaymentForm_StripePaymentForm,{clientSecret:E,onSuccess:handleCreated})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:x.__hash,children:x}),(0,v.jsx)(j.Z,{label:k,open:s||!b.active||(null==M?void 0:null===(i=M.invoice_settings)||void 0===i?void 0:i.default_payment_method)==void 0,children:(0,v.jsxs)("div",{className:"jsx-".concat(x.__hash)+" account-methods",children:[C.length>0&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"jsx-".concat(x.__hash)+" account-methods__existing",children:["current methods",(0,v.jsx)("div",{className:"jsx-".concat(x.__hash)+" account-methods__list",children:Object.entries(C).map(function(e){var t,n=(0,o.Z)(e,2),a=n[0],i=n[1];return(0,v.jsx)("div",{className:"jsx-".concat(x.__hash)+" account-methods__list-item",children:(0,v.jsx)(components_AccountCurrentMethod_AccountCurrentMethod,{default_source:null==M?void 0:null===(t=M.invoice_settings)||void 0===t?void 0:t.default_payment_method,method:i,onDeleteSuccess:P,response:b.active})},a)})})]})}),E&&(0,v.jsx)(StripePaymentForm_StripePaymentForm,{clientSecret:E,onSuccess:handleCreated})]})})]})},Z=n(1638),D=n(5960),E=[".subscriptions.jsx-857572766{width:100%;}",".subscriptions__calendar--title.jsx-857572766{font-size:var(--s-1);color:var(--gray-50);}"];E.__hash="857572766";var z=n(1523),F=[".d-flex.jsx-1096317770,.calendar__header--filters.jsx-1096317770,.calendar__header.jsx-1096317770{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".calendar.jsx-1096317770{background-color:var(--gray-90);border-radius:var(--border-radius);overflow:hidden;border:solid 1px var(--gray-70);width:auto;}",".calendar__header.jsx-1096317770{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:auto;padding:var(--s-9) var(--s-9);}","@media (max-width:900px){.calendar__header.jsx-1096317770{gap:var(--s-5);-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".calendar__header--title.jsx-1096317770{text-transform:capitalize;font-size:var(--s-3);color:var(--gray-50);font-family:Game;font-style:normal;}","@media (max-width:900px){.calendar__header--title.jsx-1096317770{width:100%;}}",".calendar__header--filters.jsx-1096317770{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:var(--s-9);}","@media (max-width:900px){.calendar__header--filters.jsx-1096317770{width:100%;}}","@media (max-width:900px){.calendar__dows.jsx-1096317770{display:none;}}",".calendar__dow.jsx-1096317770{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:var(--s-9) var(--s-9) var(--s-9) 0;border-right:solid 1px var(--gray-70);text-transform:capitalize;color:var(--gray-50);background-color:var(--gray-80);line-height:1;text-align:right;}",".calendar__date-container.jsx-1096317770{width:auto;overflow:hidden;border-right:solid 1px var(--gray-80);border-bottom:solid 1px var(--gray-80);z-index:1;}","@media (min-width:1260px){.calendar__date-container.jsx-1096317770{aspect-ratio:1/1;}}"];F.__hash="1096317770";var M=n(7011),P=['@charset "UTF-8";',".d-flex.jsx-46876398,.calendar-date.jsx-46876398::before,.calendar-date.jsx-46876398,.calendar-date-modal__event--header--time.jsx-46876398,.calendar-date-modal__event--header.jsx-46876398,.calendar-date-modal.jsx-46876398{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".calendar-date-modal.jsx-46876398{margin:var(--element-height) 2px;width:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:var(--s-9);}",".calendar-date-modal__title.jsx-46876398{font-size:var(--s-2);line-height:1;}",".calendar-date-modal__event.jsx-46876398{border:solid 1px var(--gray-70);border-radius:var(--border-radius);width:100%;}",".calendar-date-modal__event--header.jsx-46876398{min-height:var(--element-height);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--gray-70);padding:0 var(--s-8);}",".calendar-date-modal__event--header--title.jsx-46876398{font-size:var(--s-4);line-height:1;text-transform:capitalize;}",".calendar-date-modal__event--header--time.jsx-46876398{font-family:Game;font-style:italic;--ui-icon-size:var(--s-8);--ui-icon-color:var(--gray-40);color:var(--gray-40);font-size:var(--s-8);line-height:1;gap:var(--s-9);}",".calendar-date-modal__event--description.jsx-46876398,.calendar-date-modal__event--action.jsx-46876398{padding:var(--s-8);}",".calendar-date.jsx-46876398{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;gap:2px;padding:var(--s-2) 5px 0;width:auto;z-index:1;border:solid 1px transparent;height:calc(100% - 2px - var(--s-2));}",".calendar-date.jsx-46876398::before{z-index:0;content:attr(data-day);width:auto;line-height:1;position:absolute;top:0;left:0 !important;color:var(--gray-80);padding:5px 8px;}","@media (max-width:900px){.calendar-date.jsx-46876398::before{content:attr(data-mobile-day);}}","@media (max-width:900px){.calendar-date.jsx-46876398{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.calendar-date__has-event.jsx-46876398{z-index:1;}.calendar-date__has-event.jsx-46876398::before{color:var(--primary);}}",".calendar-date__modal.jsx-46876398{gap:var(--s-4);}",".calendar-date.jsx-46876398:hover{border:solid 1px var(--gray-60);background-color:var(--gray-60-opaque);}",".calendar-date.jsx-46876398:hover.jsx-46876398::before{background-color:var(--gray-30-opaque);border-radius:0 0 4px 0;}",".calendar-date__title.jsx-46876398{font-size:var(--s-2);color:var(--gray-30);}",".calendar-date__event.jsx-46876398{z-index:2;position:relative;cursor:pointer;padding:2px 5px;font-size:var(--s-7);text-overflow:ellipsis;overflow:hidden;line-height:1;border-radius:var(--s-9);text-transform:capitalize;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:calc(100% - 10px);color:var(--gray-60);}","@media (min-width:900px){.calendar-date__event.jsx-46876398{width:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}",".calendar-date__event.jsx-46876398:hover{color:var(--white);--ui-icon-color:var(--white);background-color:var(--primary);}",".calendar-date__event--title.jsx-46876398{white-space:nowrap;}","@media (max-width:900px){.calendar-date__event--title.jsx-46876398{margin-right:auto;}}",'.calendar-date__event--title.jsx-46876398:before{vertical-align:middle;padding-right:5px;content:"\xb7";font-weight:900;font-size:var(--s-4);}',".calendar-date__event--time.jsx-46876398{width:auto;font-size:var(--s-8);line-height:1;--ui-icon-size:var(--s-8);white-space:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:4px;font-family:Game;font-style:italic;}","@media (max-width:900px){.calendar-date__event.jsx-46876398{display:none;}.calendar-date.jsx-46876398:hover .calendar-date__event.jsx-46876398{display:unset;}}",".calendar-date.jsx-46876398 .calendar-date__modal__event.jsx-46876398{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}"];P.__hash="46876398";var O=n(9073),views_CalendarDate_CalendarDate=function(e){var t,n=e.date,a=e.btnText,i=void 0===a?"rsvp":a,s=(0,O.dd)(),c=s.openModal;s.closeModal;var Events=function(e){var t=e.events,a=(0,z.vc)("".concat(n.year,"-").concat(n.month,"-").concat(n.day));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:P.__hash,children:P}),(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal",children:[(0,v.jsx)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__title",children:a}),t.map(function(e,t){return(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event",children:[(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event--header",children:[(0,v.jsx)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event--header--title",children:e.title}),(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event--header--time",children:[(0,v.jsx)(f.a,{icon:"fa-clock"}),(0,z.vc)(e.iso)]})]}),(0,v.jsx)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event--description",children:e.description}),(0,v.jsx)("div",{className:"jsx-".concat(P.__hash)+" calendar-date-modal__event--action",children:(0,v.jsx)(y.Z,{children:i})})]},t)})]})]})},handleEventClick=function(e,t){t.stopPropagation();var a=null==n?void 0:n.events;null!=a&&a.length&&c((0,v.jsx)(Events,{events:[a[e]]}))};return(0,u.useEffect)(function(){},[n]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:P.__hash,children:P}),(0,v.jsx)("div",{"data-day":String(n.day),onClick:function(){var e=null==n?void 0:n.events;null!=e&&e.length&&c((0,v.jsx)(Events,{events:e}))},"data-mobile-day":"".concat(z.hG[n.dow]," ").concat((0,z.vc)("".concat(n.month,"-").concat(n.day,"-").concat(n.year))),className:"jsx-".concat(P.__hash)+" "+"calendar-date".concat((null==n?void 0:null===(t=n.events)||void 0===t?void 0:t.length)&&" calendar-date__has-event"||""),children:(null==n?void 0:n.events)&&n.events.map(function(e,t){return(0,v.jsxs)("div",{onClick:function(e){return handleEventClick(t,e)},className:"jsx-".concat(P.__hash)+" calendar-date__event",children:[(0,v.jsx)("div",{className:"jsx-".concat(P.__hash)+" calendar-date__event--title",children:e.title}),e.time&&(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash)+" calendar-date__event--time",children:[(0,v.jsx)(f.a,{icon:"fa-clock"}),(0,v.jsxs)("div",{className:"jsx-".concat(P.__hash),children:[" ",e.time]})]})]},t)})})]})},A=n(2582),Calendar_controller_Calendar=function(e){var t=e.events,n=void 0===t?[{title:"event test 1",description:"desc 1",iso:"2023-11-01"},{title:"event test 2",description:"desc 2",iso:"2023-11-01T12:00:00Z"}]:t,a=e.year,i=void 0===a?new Date().getFullYear():a,s=e.month,c=void 0===s?new Date().getMonth()+1:s,o=e.title,l=(0,u.useState)({mm:c,yy:i}),d=l[0],x=l[1],m=(0,u.useState)([]),h=m[0],_=m[1],generateCalendarDays=function(e,t){for(var a=[],i=new Date(t,e-1,1);0!==i.getDay();)i.setDate(i.getDate()-1);for(var r=!0;"break"!==function(){if(i.getMonth()+1!==e){if(!r)return"break"}else r=!1;var t="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0")),s=n.filter(function(e){return e.iso.startsWith(t)});a.push({month:i.getMonth()+1,year:i.getFullYear(),day:i.getDate(),dow:i.getDay(),events:s}),i.setDate(i.getDate()+1)}(););return a},handleAmount=function(e){var t="plus"===e?1:-1;x({mm:(d.mm-1+t+12)%12+1,yy:1===d.mm&&-1===t?d.yy-1:12===d.mm&&1===t?d.yy+1:d.yy})};return(0,u.useEffect)(function(){_(generateCalendarDays(d.mm,d.yy))},[d]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:F.__hash,children:F}),(0,v.jsxs)("div",{className:"jsx-".concat(F.__hash)+" calendar",children:[(0,v.jsxs)("div",{className:"jsx-".concat(F.__hash)+" calendar__header",children:[(0,v.jsx)("div",{className:"jsx-".concat(F.__hash)+" calendar__header--title",children:o}),(0,v.jsxs)("div",{className:"jsx-".concat(F.__hash)+" calendar__header--filters",children:[(0,v.jsx)(y.Z,{variant:"dark",onClick:function(){var e=new Date().getMonth()+1,t=new Date().getFullYear();_(generateCalendarDays(e,t)),x({mm:e,yy:t})},children:"Today"}),(0,v.jsx)(A.Z,{variant:"center dark",amount:"".concat(z.I3[d.mm-1],", ").concat(d.yy),setAmount:console.log,traits:{beforeIcon:{icon:"fas-minus",onClick:function(){return handleAmount("minus")}},afterIcon:{icon:"fas-plus",onClick:function(){return handleAmount("plus")}}}})]})]}),(0,v.jsx)("div",{className:"jsx-".concat(F.__hash)+" calendar__dows",children:(0,v.jsx)(M.Z,{xs:7,children:z.hG.map(function(e,t){return(0,v.jsx)("div",{className:"jsx-".concat(F.__hash)+" calendar__dow",children:e},t)})})}),(0,v.jsx)(M.Z,{xs:7,responsive:!0,children:h&&h.map(function(e,t){return(0,v.jsx)("div",{className:"jsx-".concat(F.__hash)+" calendar__date-container",children:(0,v.jsx)(views_CalendarDate_CalendarDate,{date:e})},t)})})]})]})},Subscriptions_controller_Subscriptions=function(e){e.user,(0,z.vc)(new Date);var t=(0,u.useState)(void 0);return t[0],t[1],(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:E.__hash,children:E}),(0,v.jsx)("div",{className:"jsx-".concat(E.__hash)+" subscriptions",children:(0,v.jsx)("div",{className:"jsx-".concat(E.__hash)+" subscriptions__calendar",children:(0,v.jsx)(Calendar_controller_Calendar,{title:"subscriptions"})})})]})},U=['@import url("https://fonts.googleapis.com/css2?family=Ephesis&family=Montserrat:wght@800&family=Play:wght@400;700&family=Poppins&display=swap");',".d-flex.jsx-2650516098,.documents__actions.jsx-2650516098,.documents .documents__list .documents--document__terms.jsx-2650516098,.documents__header.jsx-2650516098{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".documents.jsx-2650516098{width:100%;margin:auto;height:100%;}",".documents__header.jsx-2650516098{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:0 0 var(--padding);}",".documents__header--title.jsx-2650516098{font-size:var(--s-3);color:var(--gray-30);font-style:italic;font-weight:900;}",".documents.jsx-2650516098 .documents__list.jsx-2650516098 .documents--document__terms.jsx-2650516098{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--padding);margin:var(--s-9);}",".documents.jsx-2650516098 .documents__list.jsx-2650516098 .documents--document__terms--term.jsx-2650516098{max-width:calc(100% - var(--s-5) * 2);}",".documents.jsx-2650516098 .documents__list.jsx-2650516098 .documents--document__terms--term__title.jsx-2650516098{font-size:var(--s-5);color:var(--gray-40);}",".documents.jsx-2650516098 .documents__list.jsx-2650516098 .documents--document__terms--term__body.jsx-2650516098{font-size:var(--s-7);line-height:1.5;color:var(--gray-50);}",".documents__actions.jsx-2650516098{padding:calc(var(--element-height) * 2) var(--padding) calc(var(--element-height) * 2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--element-height);}"];U.__hash="2650516098";var T=n(5182),L=n(2737),R=n(3133),q=n(2279),I=[".d-flex.jsx-469320578,.documents-none.jsx-469320578{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".documents-none.jsx-469320578{border-radius:var(--border-radius);background-color:var(--gray-90);width:100%;min-height:500px;font-size:var(--s-2);color:var(--secondary);text-transform:capitalize;}"];I.__hash="469320578";var Documents_views_DocumentsNone=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:I.__hash,children:I}),(0,v.jsx)("div",{className:"jsx-".concat(I.__hash)+" documents-none",children:"no docs"})]})},Y=n(1120),V=n.n(Y),B=n(1819),Documents_controller_Documents=function(e){var t,n,a,i=e.user,s=(0,R.Z)(),l=(0,o.Z)(s,2);l[0],l[1];var x=(0,u.useRef)(null),h=(0,u.useState)([]),_=h[0],f=h[1],p=(0,m.ko)("IShoppingService"),b=(0,g.U2)(),w=(0,o.Z)(b,2),S=w[0],N=w[1],C=(0,u.useState)(""),Z=C[0],D=C[1],E=(0,m.ko)("IDocumentService"),z=(n=(0,c.Z)(d().mark(function _callee(){var e,t,n,a,i;return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=document.getElementsByClassName("documents--document")[0],r.next=3,V()(e);case 3:return t=r.sent.toDataURL("image/png"),(n=new B.kH).addImage(t,"PNG",0,0),a=n.output("blob",{type:"application/pdf"}),(i=new FormData).append("file",a,"document.pdf"),r.prev=10,r.next=13,E.uploadDocument(i,"identity_document");case 13:console.log("PDF uploaded successfully",r.sent),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(10),console.error("Error uploading PDF",r.t0);case 20:case"end":return r.stop()}},_callee,null,[[10,17]])})),function(){return n.apply(this,arguments)}),handleFullName=function(e){D(e.target.value)},F=(a=(0,c.Z)(d().mark(function _callee2(){var e;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N({active:!0,body:"getting your documents"}),t.prev=1,t.next=4,p.getProducts();case 4:f(null==(e=t.sent)?void 0:e.data.filter(function(e){var t,n,a;return(null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t.mid)==k.Z.merchant.mid&&(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.type)=="document"&&Number(null==i?void 0:i.metadata.clearance)>=Number(null==e?void 0:null===(a=e.metadata)||void 0===a?void 0:a.clearance)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("[ DOCS ERROR ]",t.t0);case 12:N({active:!1});case 13:case"end":return t.stop()}},_callee2,null,[[1,9]])})),function(){return a.apply(this,arguments)}),M=(console.log("[ isComplete ]",t=Z.length,null==i?void 0:i.name,Z),i&&(null==i?void 0:i.name)!=void 0)?t<3||!!(t>=3&&String(i.name).toLowerCase().includes(Z.toLowerCase()))||"full name incorrect":"no user";return(0,u.useEffect)(function(){Object(_).length||F()},[f]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:U.__hash,children:U}),(0,v.jsxs)("div",{ref:x,className:"jsx-".concat(U.__hash)+" documents",children:[(0,v.jsx)("div",{className:"jsx-".concat(U.__hash)+" documents__header",children:(0,v.jsxs)("div",{className:"jsx-".concat(U.__hash)+" documents__header--title",children:[null==i?void 0:i.name,"'s Documents"]})}),(0,v.jsx)("div",{className:"jsx-".concat(U.__hash)+" documents__list",children:(0,v.jsx)("div",{className:"jsx-".concat(U.__hash)+" documents--document",children:_.length?_.map(function(e,t){return(0,v.jsx)("div",{className:"jsx-".concat(U.__hash),children:(0,v.jsx)(j.Z,{variant:"document",label:null==e?void 0:e.name,open:!0,children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("ol",{className:"jsx-".concat(U.__hash)+" documents--document__terms",children:(null==e?void 0:e.metadata)&&Object.entries(null==e?void 0:e.metadata).filter(function(e){var t=(0,o.Z)(e,2),n=t[0];return t[1],"t-"===n.substring(0,2)}).map(function(e){var t=(0,o.Z)(e,2),n=t[0],a=t[1],i="".concat((0,T.Z)(null==n?void 0:n.split("_")[1]));return(0,v.jsxs)("li",{className:"jsx-".concat(U.__hash)+" documents--document__terms--term",children:[(0,v.jsx)("div",{className:"jsx-".concat(U.__hash)+" documents--document__terms--term__title",children:(0,T.Z)((0,L.Z)(i))}),(0,v.jsx)("div",{className:"jsx-".concat(U.__hash)+" documents--document__terms--term__body",children:a&&a||""})]},n)})}),(0,v.jsxs)("div",{className:"jsx-".concat(U.__hash)+" documents__actions",children:[(0,v.jsx)(q.Z,{variant:"signature".concat("string"!=typeof M?"":" invalid"),name:"name",value:Z,label:"sign your full name & agree, to continue.",placeholder:null==i?void 0:i.name,onChange:handleFullName,error:"string"==typeof M&&M||void 0}),(0,v.jsx)(y.Z,{variant:String(null==i?void 0:i.name).toLowerCase()==Z.toLowerCase()?"primary":"disabled",onClick:z,children:"Agree"})]})]})})},t)}):!S.active&&(0,v.jsx)(Documents_views_DocumentsNone,{})})})]})]})},account=function(e){(0,a.Z)(e);var t=(0,h.aF)(),n={subscriptions:(0,v.jsx)(Subscriptions_controller_Subscriptions,{user:t}),"edit profile":(0,v.jsx)(Z.Z,{user:t,open:!0}),"email notification":"email notification","privacy & security":"privacy & security",documents:(0,v.jsx)(Documents_controller_Documents,{user:t}),methods:(0,v.jsx)(AccountMethods_controller_AccountMethods,{open:"opened"})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r(),{id:s.__hash,children:s}),(0,v.jsx)(D.Z,{defaultView:"edit profile",name:"account",variant:"full-screen",views:n})]})}},8568:function(e,t,n){"use strict";n.d(t,{Z:function(){return components_UiDiv_UiDiv}});var a=n(5003),i=n.n(a),r=n(7294),s=[".d-flex.jsx-3118516192,.d-flex-col.jsx-3118516192,.d-flex-col_j-fs_a-fs.jsx-3118516192,.ui-div.jsx-3118516192,.div.jsx-3118516192,.d-flex_j-fs_a-fs.jsx-3118516192{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".d-flex_j-fs_a-fs.jsx-3118516192,.d-flex-col_j-fs_a-fs.jsx-3118516192,.ui-div.jsx-3118516192,.div.jsx-3118516192{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".d-flex-col.jsx-3118516192,.d-flex-col_j-fs_a-fs.jsx-3118516192,.ui-div.jsx-3118516192,.div.jsx-3118516192{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".ui-div.jsx-3118516192,.div.jsx-3118516192{height:-webkit-max-content;height:-moz-max-content;height:max-content;gap:var(--padding);font-size:var(--s-5);width:100%;}",".ui-div__card.jsx-3118516192,.div__card.jsx-3118516192{color:var(--gray-50);outline:solid 1px var(--gray-80);border:solid 1px var(--gray-60);border-radius:var(--border-radius);min-height:var(--element-height);border-radius:var(--border-radius);}",".ui-div__mc.jsx-3118516192,.div__mc.jsx-3118516192{color:var(--gray-40);background-color:var(--gray-80);border-radius:var(--border-radius);border-style:outset;border-color:var(--gray-40-opaque) var(--gray-40-opaque) var(--gray-60-opaque) var(--gray-20-opaque);border-width:2px;padding:var(--padding);width:calc(100% - 4px - var(--padding) * 2);}",".ui-div__lite.jsx-3118516192,.div__lite.jsx-3118516192{color:var(--gray-70);background-color:var(--gray-50);}",".ui-div__dark.jsx-3118516192,.div__dark.jsx-3118516192{background-color:var(--gray-90);}",".ui-div__shadow.jsx-3118516192,.div__shadow.jsx-3118516192{box-shadow:var(--box-shadow);}"];s.__hash="3118516192";var c=n(7360),o=n(5893),components_UiDiv_UiDiv=function(e){var t,n,a=e.children,l=e.variant,d=e.style,u=e.jsx,x=void 0===u?"":u,m=e.id,h=e.minWidth,_=e.maxWidth,f=(0,r.useRef)(null),p=null===(n=(0,c.Z)())||void 0===n?void 0:n.width,v=(0,r.useState)(!0),j=v[0],g=v[1],b=(t="div ui-div",l?"".concat(t," ").concat(l.split(" ").map(function(e){return"".concat(t,"__").concat(e)}).join(" ")):t),w=h&&h<p,y=_&&_>p;return((0,r.useEffect)(function(){j&&w?g(!1):j&&y?g(!1):j||g(!0)},[w,y]),(0,r.useEffect)(function(){var e;if(null!=f&&f.current&&m&&(null===(e=f.current.previousSibling)||void 0===e?void 0:e.tagName)!="STYLE"){var t=document.createElement("style");t.setAttribute("jsx",""),t.innerText="#".concat(m)+x,f.current.parentNode.insertBefore(t,f.current)}},[f.current]),j&&m&&x||j&&!x&&!m)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i(),{id:s.__hash,children:s}),!!(!m&&x)&&"jsx needs [props.id]",(0,o.jsx)("div",{ref:f,style:d,id:m,className:"jsx-".concat(s.__hash)+" "+(b||""),children:a})]}):(0,o.jsx)(o.Fragment,{})}},2582:function(e,t,n){"use strict";n.d(t,{Z:function(){return components_UiPill_UiPill}});var a=n(6835),i=n(5003),r=n.n(i),s=n(7294),c=[".ui-pill.jsx-1390152752{width:auto;}",".ui-pill.ui-pill-responsive.jsx-1390152752{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];c.__hash="1390152752";var o=n(2279),l=n(3279),d=n.n(l),u=n(5893),components_UiPill_UiPill=function(e){var t=e.amount,n=e.setAmount,i=e.variant,l=e.traits,x=(0,s.useState)("0"),m=x[0],h=x[1],_=l;_||"number"!=typeof t||(_={beforeIcon:{icon:t>1?"fas-minus":"fa-trash-can",onClick:function(){return v("minus")},color:1==t?"red":""},afterIcon:{icon:"fas-plus",onClick:function(){return v("plus")}}}),l&&Object.entries(l).forEach(function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1];_[n]=i});var f=(0,s.useRef)(d()(function(e){isNaN(Number(e))||n(Number(e))},1500)).current,p=(0,s.useCallback)(function(e){h(e.target.value),f(e.target.value)},[f]),v=(0,s.useCallback)(function(e){"number"==typeof t&&n(t+("plus"===e?1:-1))},[t,n]);return(0,s.useEffect)(function(){t&&h(t.toString())},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r(),{id:c.__hash,children:c}),(0,u.jsx)("div",{className:"jsx-".concat(c.__hash)+" "+"ui-pill ".concat(null!=l&&l.responsive?" ui-pill-responsive":""),children:(0,u.jsx)(o.Z,{name:"ui-pill",variant:i,traits:_,value:m,onChange:p})})]})}},3133:function(e,t,n){"use strict";var a=n(7294);t.Z=function(){var e=(0,a.useState)(0),t=e[0],n=e[1];return(0,a.useEffect)(function(){var handleScroll=function(){n(window.scrollY)};return window.addEventListener("scroll",handleScroll),function(){return window.removeEventListener("scroll",handleScroll)}},[]),[t,function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;if(e){if(t="string"==typeof e?document.getElementById(e):e.current){var i=t.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:i,behavior:"smooth"})}}else if(a)switch(a){case"top":window.scrollTo({top:0,behavior:"smooth"});break;case"bottom":window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});break;case"left":window.scrollBy({left:-window.innerWidth,behavior:"smooth"});break;case"right":window.scrollBy({left:window.innerWidth,behavior:"smooth"})}}]}},5960:function(e,t,n){"use strict";n.d(t,{Z:function(){return layouts_UiSettingsLayout_UiSettingsLayout}});var a=n(5003),i=n.n(a),r=n(7294),s=[".d-flex.jsx-2553396297,.settings.jsx-2553396297 .settings__view__content.jsx-2553396297,.settings.jsx-2553396297 .settings__actions--content.jsx-2553396297,.settings__content.jsx-2553396297{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","@-webkit-keyframes borderAnimation-jsx-2553396297{0%{border-color:rgba(255,48,48,0.2509803922);}25%{border-color:rgba(255,153,0,0.3137254902);}50%{border-color:rgba(0,153,255,0.5647058824);}75%{border-color:#0f00ff;}100%{border-color:rgba(255,48,48,0.2509803922);}}","@keyframes borderAnimation-jsx-2553396297{0%{border-color:rgba(255,48,48,0.2509803922);}25%{border-color:rgba(255,153,0,0.3137254902);}50%{border-color:rgba(0,153,255,0.5647058824);}75%{border-color:#0f00ff;}100%{border-color:rgba(255,48,48,0.2509803922);}}",".settings.jsx-2553396297{width:100%;-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);min-height:inherit;height:inherit;z-index:999;}","@media (min-width:1100px){.settings.jsx-2553396297{padding-top:var(--padding);background-color:var(--gray-90);}}",".settings__content.jsx-2553396297{-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;}","@media (min-width:1100px){.settings__content.jsx-2553396297{gap:var(--s-9);margin-left:var(--s-9);}}","@media (max-width:1100px){.settings__content.jsx-2553396297{height:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".settings.jsx-2553396297 .settings__actions.jsx-2553396297{height:inherit;position:relative;background-color:var(--gray-90);}",".settings.jsx-2553396297 .settings__actions--content.jsx-2553396297{border-bottom:solid 1px var(--gray-70);background-color:var(--gray-80);border-radius:var(--border-radius);border:solid 1px var(--gray-60);width:100%;}","@media (min-width:2100px){.settings.jsx-2553396297 .settings__actions--content.jsx-2553396297{margin-left:auto;max-width:350px;}}","@media (min-width:1100px){.settings.jsx-2553396297 .settings__actions.jsx-2553396297{min-height:auto;}}","@media (max-width:1100px){.settings.jsx-2553396297 .settings__actions.jsx-2553396297{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px var(--s-5) var(--padding);width:auto;height:-webkit-max-content;height:-moz-max-content;height:max-content;border-bottom:solid 1px var(--gray-70);overflow:visible;}}",".settings.jsx-2553396297 .settings__view.jsx-2553396297{width:100%;color:var(--gray-40);background-color:var(--gray-100);height:auto;overflow:hidden;}","@media (min-width:1100px){.settings.jsx-2553396297 .settings__view.jsx-2553396297{min-height:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:unset;border-top:solid 1px;border-left:solid 1px;border-radius:var(--border-radius) 0 0 0;-webkit-animation:borderAnimation-jsx-2553396297 5s infinite alternate;animation:borderAnimation-jsx-2553396297 5s infinite alternate;}}","@media (max-width:1100px){.settings.jsx-2553396297 .settings__view.jsx-2553396297{border-left:unset;min-height:inherit;}}",".settings.jsx-2553396297 .settings__view__content.jsx-2553396297{z-index:1000;height:calc(100% - var(--s-5) * 2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:auto;padding:var(--s-4) var(--s-5);}","@media (max-width:1100px){.settings.jsx-2553396297 .settings__view__content.jsx-2553396297{padding:var(--s-5) var(--s-8);}}","@media (max-width:900px){.settings.jsx-2553396297 .settings__view__content.jsx-2553396297{padding:var(--s-7) var(--s-9);}}"];s.__hash="2553396297";var c=n(8568),o=n(359),l=n(9492),d=n(5182),u=n(682),x=n(1163),m=n(9817),h=n(7360),_=n(2737),f=n(5893),layouts_UiSettingsLayout_UiSettingsLayout=function(e){var t,n=e.views,a=e.setViewCallback,p=e.variant,v=(e.name,e.defaultView),j=(0,x.useRouter)(),g=(null==j?void 0:null===(t=j.query)||void 0===t?void 0:t.vid)&&j.query.vid,b=(0,r.useState)(v),w=b[0],y=b[1],k=(0,h.Z)(),S=k.width,N=k.height,C=(0,r.useState)({width:350}),Z=C[0],D=C[1],E=(0,r.useRef)(),handleView=function(e){j.push({pathname:null==j?void 0:j.pathname,query:{vid:(0,_.Z)(e,!1)||g}},void 0,{shallow:!1}),a&&a(e)},z=(0,m.Z)("settings",void 0,p),F=(0,m.Z)("settings__content",void 0,p),M=(0,m.Z)("settings__view",void 0,p),handleLayout=function(){setTimeout(function(){var e=document.getElementById("header-container");if(e){var t=e.firstChild&&window.getComputedStyle(e.firstChild);e.offsetHeight&&E.current&&(E.current.style.marginTop="".concat(Number(e.offsetHeight+15),"px"));var n=Number(t.marginLeft.replace("px",""))-14;D({width:S>1700?n:300})}else console.log("headerContainer not found")},100)},optionViews=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return Object.keys(n).map(function(t){return(0,_.Z)(t,e)})};return((0,r.useEffect)(function(){handleLayout()},[S,N]),(0,r.useEffect)(function(){if(n){var e=g||v||Object.keys(n)[0];e&&y(String(e))}},[g]),w)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i(),{id:s.__hash,children:s}),(0,f.jsx)("div",{ref:E,id:"settings-container",className:"jsx-".concat(s.__hash)+" "+(z||""),children:(0,f.jsxs)("div",{className:"jsx-".concat(s.__hash)+" "+(F||""),children:[(0,f.jsxs)("div",{className:"jsx-".concat(s.__hash)+" settings__actions",children:[(0,f.jsx)(c.Z,{maxWidth:1100,style:Z,children:(0,f.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__actions--content",children:(0,f.jsx)(o.Z,{options:optionViews(!1),variant:"flat",value:w,onSelect:handleView})})}),(0,f.jsx)(c.Z,{minWidth:1100,children:(0,f.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__actions--content",children:(0,f.jsx)(l.Z,{onSelect:handleView,title:(0,d.R)(w||""),options:optionViews(!1)})})})]}),(0,f.jsx)("div",{className:"jsx-".concat(s.__hash)+" "+(M||""),children:(0,f.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__view__content",children:w&&n[w]})})]})})]}):(0,f.jsx)(u.Z,{})}},7017:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(2375)}])}},function(e){e.O(0,[847,443,97,774,888,179],function(){return e(e.s=7017)}),_N_E=e.O()}]);
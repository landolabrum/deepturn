(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{79894:function(e,i,t){"use strict";t.d(i,{Z:function(){return verify_controller_Verify}});var r=t(65003),n=t.n(r),a=t(67294),s=[".d-flex.jsx-2290089227,.verify__default.jsx-2290089227,.loadslider.jsx-2290089227{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loadslider.jsx-2290089227{min-height:100px;min-width:100%;background-size:200% 100%;}","@-webkit-keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}","@keyframes slidePulse-jsx-2290089227{0%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}50%{background-image:linear-gradient(to right,#ff6347 25%,#f30 50%,#ff6347 75%);}100%{background-image:linear-gradient(to right,#f30 25%,#ff6347 50%,#f30 75%);}}",".verify.jsx-2290089227{color:var(--white);width:var(--padding-width);margin:var(--padding);}",".verify--header.jsx-2290089227{color:var(--gray-40);width:var(--padding-width);max-width:var(--padding-width);overflow:hidden;padding:var(--padding) 0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;text-overflow:ellipsis;}",".verify--header--title.jsx-2290089227{color:var(--gray-50);font-size:var(--s-3);}",".verify__default.jsx-2290089227{background-color:var(--gray-80);min-height:50vh;color:var(--gray-40);line-height:1;padding:var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--padding);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;border-radius:var(--border-radius);border:solid 1px var(--gray-60);box-shadow:var(--box-shadow-xl);}",".verify__default.jsx-2290089227 h1.jsx-2290089227,.verify__default.jsx-2290089227 p.jsx-2290089227{line-height:1;margin:0;}",".verify__default.jsx-2290089227 p.jsx-2290089227{color:var(--gray-50);}"];s.__hash="2290089227";var l=t(11163),o=t(59499),c=t(50029),d=t(87794),f=t.n(d),u=[".d-flex.jsx-2012122347,.verify-email__content--loader.jsx-2012122347,.verify-email__content.jsx-2012122347,.verify-email.jsx-2012122347{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".verify-email.jsx-2012122347{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;border-radius:var(--border-radius);margin:var(--element-height) 0;color:var(--gray-70);background-color:var(--gray-80);min-height:500px;}","@media (max-width:1100px){.verify-email.jsx-2012122347{margin:var(--element-height) var(--padding);width:var(--padding-width);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".verify-email__content.jsx-2012122347{margin:var(--padding);width:var(--padding-width);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}",".verify-email__content--loader.jsx-2012122347{height:100%;}","@media (max-width:1100px){.verify-email__content--loader.jsx-2012122347{height:100%;}}",".verify-email__content__sign-in.jsx-2012122347{width:100%;}",".verify-email__content__sign-in--title.jsx-2012122347{font-size:var(--s-2);color:var(--gray-20);line-height:2;}"];u.__hash="2012122347";var v=t(59280),x=t(60682),m=t(42737),g=t(52779),h=t(11280),_=t(27691),p=t(99073),y=t(85893);function ownKeys(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(t),!0).forEach(function(i){(0,o.Z)(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}var views_VerifyEmail_VerifyEmail=function(e){var i,t,r,s,l,o,d=e.token,h=e.onSuccess,w=(0,a.useState)({status:"verifying_email"}),b=w[0],j=w[1],k=(0,v.ko)("IMemberService");(0,p.dd)().openModal;var S=(i=(0,c.Z)(f().mark(function _callee(){var e;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(d){i.next=3;break}return j({status:"no_token_present"}),i.abrupt("return");case 3:return i.next=5,k.verifyEmail(String(d));case 5:(e=i.sent)&&j(e);case 7:case"end":return i.stop()}},_callee)})),function(){return i.apply(this,arguments)}),O=(t=(0,c.Z)(f().mark(function _callee2(){var e,i,t,r,n;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=null==b?void 0:null===(e=b.fields)||void 0===e?void 0:null===(i=e.find(function(e){return"password"==e.name}))||void 0===i?void 0:i.value,(r=b.customer).metadata.password=t,a.next=5,k.updateMember(r.id,r);case 5:(n=a.sent)&&h(n.email);case 7:case"end":return a.stop()}},_callee2)})),function(){return t.apply(this,arguments)});return(0,a.useEffect)(function(){S()},[d]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n(),{id:u.__hash,children:u}),(0,y.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email",children:(0,y.jsxs)("div",{className:"jsx-".concat(u.__hash)+" "+"verify-email__content".concat("verification_success"===b.status?" verify-email__content--success":""),children:[(0,y.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content--loader",children:(0,y.jsx)(x.Z,{position:"relative",text:(l="",(o=function(e){return"string"==typeof e})(b.status)?l=String(b.status):o(b.detail)?l=String(b.detail):null!==(r=b.detail)&&void 0!==r&&r.detail&&o(null===(s=b.detail)||void 0===s?void 0:s.detail)&&(l=b.detail.detail),(0,m.Z)(l)),dots:(null==b?void 0:b.status)!=void 0&&["verifying_email"].includes(null==b?void 0:b.status)})}),"incomplete"==b.status&&(null==b?void 0:b.fields)&&(0,y.jsx)(g.Z,{title:String(null==b?void 0:b.detail)||void 0,onChange:function(e){var i,t,r=e.target,n=r.name,a=r.value,s=null==b?void 0:b.fields,iter=function(e){return null==s?void 0:s.find(function(i){return i.name===e})},l=null===(i=iter("password"))||void 0===i?void 0:i.value,o=null===(t=iter("confirm_password"))||void 0===t?void 0:t.value,c=null==s?void 0:s.map(function(e){if(e.name===n){var i=_objectSpread(_objectSpread({},e),{},{value:a});return"confirm_password"===n&&l!==a&&""!==l||"password"===n&&o!==a&&""!==o?i.error="Not Same as Password":i.error&&delete i.error,i}return e});j(_objectSpread(_objectSpread({},b),{},{fields:c}))},fields:b.fields,onSubmit:O}),"verification_success"===b.status&&b.customer.email&&(0,y.jsx)("div",{className:"jsx-".concat(u.__hash)+" verify-email__content__sign-in",children:(0,y.jsx)(_.Z,{href:"/account",children:"Go to Account"})})]})})]})};t(6515);var verify_controller_Verify=function(){var e=(0,l.useRouter)(),i=(e.pathname,e.query),t=(0,a.useState)(""),r=t[0],o=t[1],c=(0,a.useState)(),d=c[0],f=c[1],u=(0,a.useState)(),v=u[0],x=u[1];return(0,a.useEffect)(function(){"string"==typeof i.vid&&o(i.vid),"string"==typeof i.token&&f(i.token),v&&o("sign-in")},[i,v]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n(),{id:s.__hash,children:s}),(0,y.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify",children:["sign-in"==r&&(0,y.jsx)(h.Z,{email:v}),"email"==r&&(0,y.jsx)(views_VerifyEmail_VerifyEmail,{token:d,onSuccess:function(e){return x(e)}}),!["email","sign-in"].includes(r)&&(0,y.jsxs)("div",{className:"jsx-".concat(s.__hash)+" verify__default",children:[(0,y.jsx)("h1",{className:"jsx-".concat(s.__hash),children:"Verify"}),(0,y.jsx)("p",{className:"jsx-".concat(s.__hash),children:"Here is where you will verify a token in which you should have recieved via a specified contact method."})]})]})]})}},71696:function(e,i,t){"use strict";t.r(i);var r=t(79894);i.default=r.Z},85719:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify",function(){return t(71696)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=85719)}),_N_E=e.O()}]);